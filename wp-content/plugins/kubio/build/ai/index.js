(()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var r,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))n.call(r,c)&&(s[c]=r[c]);if(t){o=t(r);for(var u=0;u<o.length;u++)a.call(r,o[u])&&(s[o[u]]=r[o[u]])}}return s}},2703:(e,t,n)=>{"use strict";var a=n(414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,o){if(o!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4670:(e,t,n)=>{"use strict";e.exports=n(5607)},9829:(e,t,n)=>{"use strict";var a,i,r,o=n(8946),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){r=!1}function c(e){if(e){if(e!==a){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));a=e,l()}}else a!==s&&(a=s,l())}function u(){return r||(r=function(){a||c(s);for(var e,t=a.split(""),n=[],i=o.nextValue();t.length>0;)i=o.nextValue(),e=Math.floor(i*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return a||s},characters:function(e){return c(e),a},seed:function(e){o.seed(e),i!==e&&(l(),i=e)},lookup:function(e){return u()[e]},shuffled:u}},480:(e,t,n)=>{"use strict";var a,i,r=n(8416);n(9829),e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===i?a++:(a=0,i=n),t+=r(7),t+=r(e),a>0&&(t+=r(a)),t+r(n)}},8416:(e,t,n)=>{"use strict";var a=n(9829),i=n(3766),r=n(296);e.exports=function(e){for(var t,n=0,o="";!t;)o+=r(i,a.get(),1),t=e<Math.pow(16,n+1),n++;return o}},5607:(e,t,n)=>{"use strict";var a=n(9829),i=n(480),r=n(1082),o=n(5636)||0;function s(){return i(o)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return a.seed(t),e.exports},e.exports.worker=function(t){return o=t,e.exports},e.exports.characters=function(e){return void 0!==e&&a.characters(e),a.shuffled()},e.exports.isValid=r},1082:(e,t,n)=>{"use strict";var a=n(9829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+a.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},3766:e=>{"use strict";var t,n="object"==typeof window&&(window.crypto||window.msCrypto);t=n&&n.getRandomValues?function(e){return n.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},8946:e=>{"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},5636:e=>{"use strict";e.exports=0},296:e=>{e.exports=function(e,t,n){for(var a=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*a*n/t.length),r="";;)for(var o=e(i),s=i;s--;)if((r+=t[o[s]&a]||"").length===+n)return r}}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";n.r(a),n.d(a,{AIApiError:()=>U,AIDataProvider:()=>w,AIWizard:()=>wi,aiImageGenerateFromText:()=>ue,aiImageMask:()=>pe,aiImageVariations:()=>de,aiSearchImages:()=>me,aiSearchedImageSave:()=>fe,categoriesToSectionsList:()=>Lt,changeTextPrompt:()=>se,determineSiteMood:()=>Z,fillSectionTemplate:()=>Bt,findPattern:()=>N,generateColorScheme:()=>ee,generatePageStructure:()=>Ot,generatePageStructureApi:()=>Q,generateSectionContent:()=>te,generateSiteStructure:()=>J,getAIInfo:()=>q,getAIUsage:()=>H,getBusinessTypes:()=>i,getContentLanguageStyles:()=>x,getContentLanguages:()=>_,getFromGenerationSession:()=>pt,getPageContentSectionTemplate:()=>Nt,getPageFooterTemplate:()=>At,getPageHederTemplate:()=>Mt,getPageSectionsTemplates:()=>jt,initGenerationSession:()=>ut,normalizeCategorySlug:()=>E.normalizeCategorySlug,normalizeSection:()=>xt,openConnectPopup:()=>l,optimizePrompt:()=>le,processContent:()=>re,prompt:()=>oe,rephraseSectionContent:()=>ne,rephraseSectionTemplate:()=>Wt,saveAiGeneralSettings:()=>X,searchImages:()=>ae,searchVideo:()=>ie,sectionTemplateBlockGetParents:()=>M,sectionTemplateBlockHasParent:()=>A,setAIKey:()=>Y,setInGenerationSession:()=>dt,textToImage:()=>ce,useAIData:()=>k,useAIServiceInfo:()=>b,useIsAIConnected:()=>h});const e=window.kubio.utils,t=window.wp.i18n,i=()=>(0,e.getBackendData)("aiBusinessTypes",{natural:{label:(0,t.__)("Business","kubio"),value:"Business",description:(0,t.__)("Resources and insights for starting, managing, and growing businesses.","kubio")}}),r=window.wp.url,o=window.lodash;var s=n.n(o);const l=async()=>new Promise(((t,n)=>{const{screen:a}=window,i=(0,o.first)((0,e.getBackendData)("kubioCloudUrl").split("?")).replace(/\/+$/,""),s=["popup","innerWidth=500","innerHeight=600","left="+(a.width-500)/2,"top="+(a.height-600)/2*.8],l=(0,r.addQueryArgs)(`${i}/ui-route/connect-ai`,{key:""}),c=window.open(l,"kubioAIConnect",s.join(",")),u=e=>{const{action:a=null,value:i=null,error:r=null}=e.data||{};if("ai_subscription_key"===a){if(c.close(),window.removeEventListener("message",u),r)return n(n);t(i)}};window.addEventListener("message",u)})),c=window.wp.element,u=window.kubio.constants,d=window.kubio.core,p=window.kubio.editorData,m=window.kubio.globalData,f=window.wp.coreData,g=window.wp.data,h=()=>{const[t,n]=(0,p.useGlobalSessionProp)("isAIConnected",(0,e.getBackendData)("aiIsConnected",!1));return[t,n]},b=()=>{const e=(0,g.useSelect)((e=>e(u.STORE_KEY).getAIInfo())),{updateAIInfo:t}=(0,g.useDispatch)(u.STORE_KEY);return[e,t]},y=Object.freeze({}),v=(0,c.createContext)([y,o.noop]),k=()=>(0,c.useContext)(v),w=t=>{let{children:n}=t;const[a,i]=(0,p.useGlobalSessionProp)("aiGeneratorData",y),r=(0,p.useGetGlobalSessionProp)("ready",!1),{title:s}=(0,m.useSiteLogoImages)(),l=(0,d.usePageTitle)(),[k]=h();b();const{recordFallback:w,isFrontPage:_,pageContextFallback:x,frontPageEntity:E,blogPageEntity:C,otherPages:S}=(0,g.useSelect)((e=>{const{getCurrentPostType:t,getCurrentPostId:n,getIsFrontPage:a}=e(u.STORE_KEY),{getEntityRecord:i,getEntityRecords:r}=e(f.store),{page_for_posts:s,page_on_front:l}=i("root","site")||{},c=i("postType",t(),n()),d=l?i("postType","page",l):null,p=s?i("postType","page",s):null,m=(r("postType","page",{per_page:-1,exclude:[s,l,n()].filter(Boolean)})||[]).map((e=>({id:e.id,title:e.title.rendered})));return{recordFallback:c,pageContextFallback:(0,o.get)(c,["kubio_ai_page_context"],y),isFrontPage:a(),frontPageEntity:d,blogPageEntity:p,otherPages:m}}),[]),I=(0,e.getBackendData)("aiSettings"),P=(0,d.useDeepMemo)((()=>{var e,t;let{siteContext:n=null,pageContext:i=null,pageTitle:o=null,isRegenerate:c=!1,record:u=null}=a||{};n=n||I,i=i||x,o=o||l,u=u||w;const d=!n.structure_type||"multi-page"===n.structure_type;return{siteContext:{...n,business_name:null!==(e=null===(t=n)||void 0===t?void 0:t.business_name)&&void 0!==e?e:s,otherPages:S,isMultiPage:d},pageContext:r?{...i,title:o,isFrontPage:_}:{},isFrontPage:_,isRegenerate:c,record:u,pageTitle:o,isMultiPage:d,isAIConnected:k,frontPageEntity:E,blogPageEntity:C}}),[I,x,l,null==w?void 0:w.id,a,s,_,S,k,E,C]),O=(0,c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i((n=>{const a=(0,o.cloneDeep)(e);return t?(0,o.set)((0,o.cloneDeep)(n),t,a):a}))}),[i]);return(0,c.createElement)(v.Provider,{value:[P,O]},n)},_=()=>(0,e.getBackendData)("aiLanguages",{en_EN:"English (US)"}),x=()=>(0,e.getBackendData)("aiLanguageStyles",{natural:{label:(0,t.__)("Natural","kubio"),description:(0,t.__)("Is the default language style. It can adapt to some extent depending on the cues from the user's input.","kubio")}}),E=window.kubio.blockPatterns,C=window.wp.blockEditor,S=window.kubio.log,I=(t,n)=>{const a=(0,o.get)(t,["kubioAI","meta","initialValues","words"],null);if(a)return a;const i=(0,o.get)(t,n,"");return(0,o.words)((0,e.stripTags)(i)).length},P=(t,n)=>{const a=(0,o.get)(t,["kubioAI","meta","initialValues","chars"],null);if(a)return a;const i=(0,o.get)(t,n,"");return(0,o.words)((0,e.stripTags)(i)).reduce(((e,t)=>e+t.length),0)},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=e.replace(/kubio(.*?)\//,""),t)switch(e){case"contact-info":case"contact-map":case"contact-form":e="contact"}return e},M=(e,t)=>{let n=[...t].slice(0,-2);const a=[];for(;n.length;){const t=(0,o.get)(e,n);a.push(t[0]),n=n.slice(0,-2)}return a},A=(e,t,n)=>M(e,t).includes(n),T=["blank-section"],N=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tag:a,exclude:i,excludeWithTags:r=[],excludeSectionWithBackground:l,findBy:c=null,skippableTags:u=[],skipSlug:d=[],skipIds:p=[],returnAll:m=!1}=s().merge({exclude:[],excludeSectionWithBackground:!1,tag:null},n);t=(0,E.normalizeCategorySlug)(t);const f=(0,o.castArray)(a).filter(Boolean);let h=d;const b=[...u],y=O(t);switch(y){case"contact":r.push("contact-info","contact-map");break;case"contact-info":case"contact-map":case"contact-form":f.includes(y)||(f.push(y),u.push(y)),t="kubio-content/contact"}const v=(0,g.select)(C.store).getSettings().__experimentalBlockPatterns.filter((e=>e.isGutentagPattern));if(c){const e=(0,o.find)(v.filter((e=>!e.isProOnFree)),c);return e||S.Log.warn("Unable to find by",c),e}const k=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s="*"===t;if(p.includes(n.cloudPresetId))return!1;if(h.includes(n.name))return!1;if(s||(s=n.categories.find((e=>t===(0,E.normalizeCategorySlug)(e)))),!s)return!1;if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=(0,E.getSectionSlugFromPattern)(e),i=(r=a,T.includes(r)||t.includes(a));var r;return!0===n?i||z(e.content[1]):i}(n,i,l))return!1;if(!(e=>((null==e?void 0:e.internalTags)||[]).includes("ai-ready"))(n))return!1;const c=[...n.publicTags||[],...n.internalTags||[]];return!r.some((e=>c.includes(e)))&&(!!(0,o.difference)(f,a).every((e=>c.includes(e)))&&(!!(0,e.isPatternAvailableInCurrentTheme)(n)&&!n.isProOnFree))};let w=v.filter((e=>k(e)));if((0,o.isEmpty)(w)&&(h=[],w=v.filter((t=>k(t,b.concat((0,e.getBackendData)("sectionStylesTags")))))),m)return w;const _=(0,o.sample)(w);return _?(S.Log.info(`Pattern found: ${_.slug}`),s().cloneDeep(_)):null};function z(e){if(!e)return!1;const t=["kubio","style","descendants",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"outer","background"],n=(0,o.get)(e,[...t,"type"]);return!!["image","slideshow"].includes(n)}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!n||n.isFrontPage||("team"===n.purpose&&"team"===t&&e.push("dedicated-page"),"gallery"===n.purpose&&"photo-gallery"===t&&e.push("dedicated-page"),"portfolio"===n.purpose&&"portfolio"===t&&e.push("dedicated-page")),e}const j=(e,t)=>{let n=!1;if(t.isFrontPage)n=!0;else switch(e){case"team":n="team"!==t.purpose;break;case"portfolio":n="portfolio"!==t.purpose;break;case"photo-gallery":n="gallery"!==t.purpose}return[n?"dedicated-page":null].filter(Boolean)},R=window.wp.apiFetch;var F=n.n(R);const D=window.wp.hooks,B=window.wp.notices,W=e=>e.map((e=>{const t=(e.elements||[]).map((e=>(0,o.omit)(e,["path","attributePath"])));return{...e,elements:t}}));var V=n(4670),$=n.n(V);class U extends Error{}const G=function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(t=e=(0,o.cloneDeep)(e))&&void 0!==t&&null!==(n=t.siteContext)&&void 0!==n&&n.cta&&(0,o.unset)(e,["siteContext","cta"]),{...e,remainingRetries:a.retries||null}},K=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="POST",skipCreditsCheck:i=!1,retries:s=2,__kubio_call_id:l=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{updateAIInfo:c=o.noop}=(0,g.dispatch)(u.STORE_KEY)||{},{getAIInfo:d=o.noop}=(0,g.select)(u.STORE_KEY)||{},p=l||$().generate();let m,f=i;if(!f){const{remainingCredits:e=0}=d()||{};f=e>0}if(!f)throw(0,D.doAction)("kubio.ai.zero_credits"),new U((0,t.__)("Your account has insufficient credits","kubio"),{cause:"zero_credits"});let h="";try{const t=await F()({path:(0,r.addQueryArgs)(`/kubio/v1/ai/${e}`,{__kubio_call_id:p}),method:a,data:G(n,{retries:s})});h=t.upgrade_key||"",m=t.content;const i=(0,o.get)(t,"service_info.remaining_credits",null);(0,o.isNull)(i)||c({...d(),remainingCredits:i})}catch(r){const l=504===parseInt(r.code)||(r.code+"").startsWith("ai_service:");if("ai_service:pexels_request"===r.code&&!s)return S.Log.error("Kubio AI: API error",r,m),null;if("ai_service:invalid_element"===r.code&&!s)return S.Log.warn("Kubio AI: No retry managed to fixed generate elements problem. Return last result as is",r,m),(0,o.get)(r,"data.content",null);if(l&&s)return S.Log.warn(`AI service failed. ${s} retries left`,r),await K(e,n,{method:a,skipCreditsCheck:i,retries:s-1,__kubio_call_id:p});if("zero_credits"===r.code)throw(0,D.doAction)("kubio.ai.zero_credits"),new U((0,t.__)("Your account has insufficient credits","kubio"),{cause:"zero_credits"});const c=(0,t.__)("There was an error with the KubioAI services. If the error persists, please contact support","kubio");throw(0,g.dispatch)(B.store).createErrorNotice((0,t.sprintf)(// translators: %s is the error text
(0,t.__)("Kubio AI: %s","kubio"),c),{id:"kubio-ai-api-fetch-error",type:"snackbar"}),S.Log.error("Kubio AI: API error",r,m),new U(c,{cause:r.code})}return h&&(top.kubioAIUpgradeKey=h),m},Y=async e=>{let{aiKey:t}=e;return await K("set-ai-key",{key:t},{skipCreditsCheck:!0})},q=async()=>await K("info",{},{skipCreditsCheck:!0}),H=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await K("usage",{page:e,perPage:t},{skipCreditsCheck:!0})},X=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s().set(window.kubioUtilsData,"aiSettings",(0,o.cloneDeep)(e)),await K("settings",{settings:e},{skipCreditsCheck:!0})},Q=async function(){let{pageTitle:e,allowedSections:t,siteContext:n,pageContext:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("generate-page-structure",{pageTitle:e,siteContext:n,pageContext:a,allowedSections:t})},J=async function(){let{siteContext:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("generate-site-structure",{siteContext:e})},Z=async function(){let{siteContext:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mood:t=u.SITE_MOOD_VALUES.NEUTRAL,subject:n="",owner_type:a="organization",client_type:i="both",call_to_action:r,core_business:o=""}=await K("determine-site-mood",{siteContext:e});let s=t.toLowerCase();switch(s){case"serious":case u.SITE_MOOD_VALUES.PROFESSIONAL:s=u.SITE_MOOD_VALUES.PROFESSIONAL;break;case"joyful":case u.SITE_MOOD_VALUES.PLAYFUL:s=u.SITE_MOOD_VALUES.PLAYFUL;break;default:s=u.SITE_MOOD_VALUES.NEUTRAL}return{mood:s,websiteSubject:n,ownerType:a,clientType:i,cta:r,coreBusiness:o.replace(/\W+/g," ").replace(/\s+/g," ")}},ee=async function(){let{pageTitle:e,siteContext:t,pageContext:n,mood:a="neutral",primaryColors:i={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("generate-color-scheme",{pageTitle:e,siteContext:t,pageContext:n,mood:a,primaryColors:i},{retries:5})},te=async function(){let{category:e,structure:t,pageTitle:n,siteContext:a,pageContext:i,summary:r,rules:o=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("generate-section-content",{category:e,structure:W(t),pageTitle:n,siteContext:a,pageContext:i,summary:r,rules:o})},ne=async function(){let{category:e,structure:t,pageTitle:n,siteContext:a,pageContext:i,summary:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("rephrase-section-content",{category:e,structure:W(t),pageTitle:n,siteContext:a,pageContext:i,summary:r})},ae=async function(){let{search:e,initialImage:t="",perPage:n=10,page:a=1,mediaAttrs:i=null,width:r=null,height:s=null,orientation:l=null,color:c=null,skipOrientation:u=!1,crop:d=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,o.isString)(e)||(0,o.isEmpty)(e)?(S.Log.error("Image search stopped early, the search param should be a non-empty string",new TypeError,e),{items:[]}):await K("search-image",{search:e,initialImage:t,perPage:n,page:a,mediaAttrs:i,width:r,height:s,orientation:l,color:c,skipOrientation:u,crop:d})},ie=async function(){let{search:e,perPage:t=10,page:n=1,mediaAttrs:a=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("search-video",{search:e,perPage:t,page:n,mediaAttrs:a})},re=async e=>{let{pageTitle:t,siteContext:n,pageContext:a,content:i,action:r,extras:o={}}=e;return await K("process-text",{pageTitle:t,siteContext:n,pageContext:a,content:i,action:r,extras:o})},oe=async e=>{let{pageTitle:t,siteContext:n,pageContext:a,prompt:i,originalContent:r,short:o,type:s="text"}=e;return await K("prompt",{pageTitle:t,siteContext:n,pageContext:a,prompt:i,originalContent:r,short:o,type:s})},se=async e=>{let{pageTitle:t,siteContext:n,pageContext:a,promptData:i,text:r,type:o="text"}=e;return await K("change-text",{pageTitle:t,siteContext:n,pageContext:a,promptData:i,text:r,type:o})},le=async e=>{let{prompt:t}=e;return await K("summarize-prompt",{prompt:t})},ce=async e=>{let{pageTitle:t,siteContext:n,pageContext:a,prompt:i,initialImage:r,imageSize:o}=e;return await K("prompt-to-image",{pageTitle:t,siteContext:n,pageContext:a,prompt:i,initialImage:r,imageSize:o})},ue=async e=>{let{imagePrompt:t,initialImage:n,imageSize:a,imageStyle:i,imageType:r,numberOfImages:o,aspectRatio:s}=e;return await K("generate-text-to-image",{imagePrompt:t,initialImage:n,imageSize:a,imageStyle:i,imageType:r,numberOfImages:o,aspectRatio:s})},de=async e=>{let{imagePrompt:t,currentSelectedImage:n,imageSize:a,imageStyle:i,imageType:r,numberOfImages:o}=e;return await K("generate-image-variations",{imagePrompt:t,currentSelectedImage:n,imageSize:a,imageStyle:i,imageType:r,numberOfImages:o})},pe=async e=>{let{imagePrompt:t,currentSelectedImage:n,maskImage:a}=e;return await K("image-mask",{imagePrompt:t,currentSelectedImage:n,maskImage:a})},me=async function(){let{search:e,perPage:t=10,page:n=1,initialImage:a="",imageSize:i="medium",imageOrientation:r="portrait",aiPrompt:o=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await K("ai-search-images",{search:e,perPage:t,page:n,imageSize:i,imageOrientation:r,initialImage:a,aiPrompt:o})},fe=async e=>{let{selectedImage:t}=e;return await K("save-image",{selectedImage:t},{skipCreditsCheck:!0})},ge={blocks:["kubio/image-gallery"],elements:["gallery"],transform:e=>{let{path:t,addColumnElement:n}=e;n({name:"gallery",path:t})},setter:async(e,n,a)=>{const i=(0,o.get)(e,[...a.path,2],[]);if(i.length)try{const{query:r=null,caption:s="",color:l=null}=n||{},c=(0,o.get)(e,[...a.path,1,"kubio","props","showMasonry"]),u=await ae({search:r,skipOrientation:c,crop:!c,initialImage:c?void 0:(0,o.get)(i[0],[1,"url"]),perPage:i.length,mediaAttrs:["alt"],color:l});if(u.items){const n=[];for(let e=0;e<i.length;e++){const a=u.items[e%u.items.length];n.push({alt:"",caption:(0,t.sprintf)(s,e+1),id:0,url:a.url})}(0,o.set)([...a.path,1,"imagesData"],n);for(let t=0;t<i.length;t++){const i=[...a.path,2,t,1],r=(0,o.get)(e,i);(0,o.set)(e,i,{...r,...n[t]})}}}catch(e){S.Log.error(e)}}},he={blocks:["kubio/pricing"],elements:["price"],transform:e=>{let{block:[,t],path:n,addColumnElement:a}=e;a({name:"price",path:n,on_sale:t.sale})},setter:async(e,t,n)=>{const{currentPrice:a=100,originalPrice:i=null}=t||{},r=parseInt(a)||100,s=i||r;(0,o.set)(e,[...n.path,1,"currentPrice"],r),(0,o.set)(e,[...n.path,1,"originalPrice"],s)}};function be(e){return Array.isArray?Array.isArray(e):"[object Array]"===xe(e)}function ye(e){return"string"==typeof e}function ve(e){return"number"==typeof e}function ke(e){return"object"==typeof e}function we(e){return null!=e}function _e(e){return!e.trim().length}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ee=e=>`Missing ${e} property in key`,Ce=e=>`Property 'weight' in key '${e}' must be a positive integer`,Se=Object.prototype.hasOwnProperty;class Ie{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=Pe(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Pe(e){let t=null,n=null,a=null,i=1,r=null;if(ye(e)||be(e))a=e,t=Oe(e),n=Me(e);else{if(!Se.call(e,"name"))throw new Error(Ee("name"));const o=e.name;if(a=o,Se.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Ce(o));t=Oe(o),n=Me(o),r=e.getFn}return{path:t,id:n,weight:i,src:a,getFn:r}}function Oe(e){return be(e)?e:e.split(".")}function Me(e){return be(e)?e.join("."):e}var Ae={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],a=!1;const i=(e,t,r)=>{if(we(e))if(t[r]){const o=e[t[r]];if(!we(o))return;if(r===t.length-1&&(ye(o)||ve(o)||function(e){return!0===e||!1===e||function(e){return ke(e)&&null!==e}(e)&&"[object Boolean]"==xe(e)}(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(be(o)){a=!0;for(let e=0,n=o.length;e<n;e+=1)i(o[e],t,r+1)}else t.length&&i(o,t,r+1)}else n.push(e)};return i(e,ye(t)?t.split("."):t,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Te=/[^ ]+/g;class Ne{constructor({getFn:e=Ae.getFn,fieldNormWeight:t=Ae.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,a=Math.pow(10,t);return{get(t){const i=t.match(Te).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),o=parseFloat(Math.round(r*a)/a);return n.set(i,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,ye(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();ye(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!we(e)||_e(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,a)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(we(i))if(be(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:a}=t.pop();if(we(a))if(ye(a)&&!_e(a)){let t={v:a,i:n,n:this.norm.get(a)};e.push(t)}else be(a)&&a.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[a]=e}else if(ye(i)&&!_e(i)){let e={v:i,n:this.norm.get(i)};n.$[a]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ze(e,t,{getFn:n=Ae.getFn,fieldNormWeight:a=Ae.fieldNormWeight}={}){const i=new Ne({getFn:n,fieldNormWeight:a});return i.setKeys(e.map(Pe)),i.setSources(t),i.create(),i}function Le(e,{errors:t=0,currentLocation:n=0,expectedLocation:a=0,distance:i=Ae.distance,ignoreLocation:r=Ae.ignoreLocation}={}){const o=t/e.length;if(r)return o;const s=Math.abs(a-n);return i?o+s/i:s?1:o}const je=32;function Re(e){let t={};for(let n=0,a=e.length;n<a;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<a-n-1}return t}class Fe{constructor(e,{location:t=Ae.location,threshold:n=Ae.threshold,distance:a=Ae.distance,includeMatches:i=Ae.includeMatches,findAllMatches:r=Ae.findAllMatches,minMatchCharLength:o=Ae.minMatchCharLength,isCaseSensitive:s=Ae.isCaseSensitive,ignoreLocation:l=Ae.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Re(e),startIndex:t})},u=this.pattern.length;if(u>je){let e=0;const t=u%je,n=u-t;for(;e<n;)c(this.pattern.substr(e,je),e),e+=je;if(t){const e=u-je;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:a,distance:i,threshold:r,findAllMatches:o,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:m})=>{const{isMatch:f,score:g,indices:h}=function(e,t,n,{location:a=Ae.location,distance:i=Ae.distance,threshold:r=Ae.threshold,findAllMatches:o=Ae.findAllMatches,minMatchCharLength:s=Ae.minMatchCharLength,includeMatches:l=Ae.includeMatches,ignoreLocation:c=Ae.ignoreLocation}={}){if(t.length>je)throw new Error("Pattern length exceeds max of 32.");const u=t.length,d=e.length,p=Math.max(0,Math.min(a,d));let m=r,f=p;const g=s>1||l,h=g?Array(d):[];let b;for(;(b=e.indexOf(t,f))>-1;){let e=Le(t,{currentLocation:b,expectedLocation:p,distance:i,ignoreLocation:c});if(m=Math.min(e,m),f=b+u,g){let e=0;for(;e<u;)h[b+e]=1,e+=1}}f=-1;let y=[],v=1,k=u+d;const w=1<<u-1;for(let a=0;a<u;a+=1){let r=0,s=k;for(;r<s;)Le(t,{errors:a,currentLocation:p+s,expectedLocation:p,distance:i,ignoreLocation:c})<=m?r=s:k=s,s=Math.floor((k-r)/2+r);k=s;let l=Math.max(1,p-s+1),b=o?d:Math.min(p+s,d)+u,_=Array(b+2);_[b+1]=(1<<a)-1;for(let r=b;r>=l;r-=1){let o=r-1,s=n[e.charAt(o)];if(g&&(h[o]=+!!s),_[r]=(_[r+1]<<1|1)&s,a&&(_[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),_[r]&w&&(v=Le(t,{errors:a,currentLocation:o,expectedLocation:p,distance:i,ignoreLocation:c}),v<=m)){if(m=v,f=o,f<=p)break;l=Math.max(1,2*p-f)}}if(Le(t,{errors:a+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:c})>m)break;y=_}const _={isMatch:f>=0,score:Math.max(.001,v)};if(g){const e=function(e=[],t=Ae.minMatchCharLength){let n=[],a=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===a?a=r:o||-1===a||(i=r-1,i-a+1>=t&&n.push([a,i]),a=-1)}return e[r-1]&&r-a>=t&&n.push([a,r-1]),n}(h,s);e.length?l&&(_.indices=e):_.isMatch=!1}return _}(e,t,p,{location:a+m,distance:i,threshold:r,findAllMatches:o,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});f&&(d=!0),u+=g,f&&h&&(c=[...c,...h])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=c),p}}class De{constructor(e){this.pattern=e}static isMultiMatch(e){return Be(e,this.multiRegex)}static isSingleMatch(e){return Be(e,this.singleRegex)}search(){}}function Be(e,t){const n=e.match(t);return n?n[1]:null}class We extends De{constructor(e,{location:t=Ae.location,threshold:n=Ae.threshold,distance:a=Ae.distance,includeMatches:i=Ae.includeMatches,findAllMatches:r=Ae.findAllMatches,minMatchCharLength:o=Ae.minMatchCharLength,isCaseSensitive:s=Ae.isCaseSensitive,ignoreLocation:l=Ae.ignoreLocation}={}){super(e),this._bitapSearch=new Fe(e,{location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ve extends De{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const a=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,a.push([t,n-1]);const r=!!a.length;return{isMatch:r,score:r?0:1,indices:a}}}const $e=[class extends De{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Ve,class extends De{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends De{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends De{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends De{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends De{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},We],Ue=$e.length,Ge=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ke=new Set([We.type,Ve.type]);const Ye=[];function qe(e,t){for(let n=0,a=Ye.length;n<a;n+=1){let a=Ye[n];if(a.condition(e,t))return new a(e,t)}return new Fe(e,t)}const He="$and",Xe="$path",Qe=e=>!(!e[He]&&!e.$or),Je=e=>({[He]:Object.keys(e).map((t=>({[t]:e[t]})))});function Ze(e,t,{auto:n=!0}={}){const a=e=>{let i=Object.keys(e);const r=(e=>!!e[Xe])(e);if(!r&&i.length>1&&!Qe(e))return a(Je(e));if((e=>!be(e)&&ke(e)&&!Qe(e))(e)){const a=r?e[Xe]:i[0],o=r?e.$val:e[a];if(!ye(o))throw new Error((e=>`Invalid value for key ${e}`)(a));const s={keyId:Me(a),pattern:o};return n&&(s.searcher=qe(o,t)),s}let o={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];be(n)&&n.forEach((e=>{o.children.push(a(e))}))})),o};return Qe(e)||(e=Je(e)),a(e)}function et(e,t){const n=e.matches;t.matches=[],we(n)&&n.forEach((e=>{if(!we(e.indices)||!e.indices.length)return;const{indices:n,value:a}=e;let i={indices:n,value:a};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function tt(e,t){t.score=e.score}class nt{constructor(e,t={},n){this.options={...Ae,...t},this.options.useExtendedSearch,this._keyStore=new Ie(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ne))throw new Error("Incorrect 'index' type");this._myIndex=t||ze(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){we(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,a-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:r,ignoreFieldNorm:o}=this.options;let s=ye(e)?ye(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Ae.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:a,score:i})=>{const r=e?e.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(t?1:a))})),e.score=n}))}(s,{ignoreFieldNorm:o}),i&&s.sort(r),ve(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=Ae.includeMatches,includeScore:a=Ae.includeScore}={}){const i=[];return n&&i.push(et),a&&i.push(tt),e.map((e=>{const{idx:n}=e,a={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,a)})),a}))}(s,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=qe(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach((({v:e,i:n,n:i})=>{if(!we(e))return;const{isMatch:r,score:o,indices:s}=t.searchIn(e);r&&a.push({item:e,idx:n,matches:[{score:o,value:e,norm:i,indices:s}]})})),a}_searchLogical(e){const t=Ze(e,this.options),n=(e,t,a)=>{if(!e.children){const{keyId:n,searcher:i}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return r&&r.length?[{idx:a,item:t,matches:r}]:[]}const i=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],s=n(o,t,a);if(s.length)i.push(...s);else if(e.operator===He)return[]}return i},a=this._myIndex.records,i={},r=[];return a.forEach((({$:e,i:a})=>{if(we(e)){let o=n(t,e,a);o.length&&(i[a]||(i[a]={idx:a,item:e,matches:[]},r.push(i[a])),o.forEach((({matches:e})=>{i[a].matches.push(...e)})))}})),r}_searchObjectList(e){const t=qe(e,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach((({$:e,i:a})=>{if(!we(e))return;let r=[];n.forEach(((n,a)=>{r.push(...this._findMatches({key:n,value:e[a],searcher:t}))})),r.length&&i.push({idx:a,item:e,matches:r})})),i}_findMatches({key:e,value:t,searcher:n}){if(!we(t))return[];let a=[];if(be(t))t.forEach((({v:t,i,n:r})=>{if(!we(t))return;const{isMatch:o,score:s,indices:l}=n.searchIn(t);o&&a.push({score:s,key:e,value:t,idx:i,norm:r,indices:l})}));else{const{v:i,n:r}=t,{isMatch:o,score:s,indices:l}=n.searchIn(i);o&&a.push({score:s,key:e,value:i,norm:r,indices:l})}return a}}nt.version="6.6.2",nt.createIndex=ze,nt.parseIndex=function(e,{getFn:t=Ae.getFn,fieldNormWeight:n=Ae.fieldNormWeight}={}){const{keys:a,records:i}=e,r=new Ne({getFn:t,fieldNormWeight:n});return r.setKeys(a),r.setIndexRecords(i),r},nt.config=Ae,nt.parseQuery=Ze,function(...e){Ye.push(...e)}(class{constructor(e,{isCaseSensitive:t=Ae.isCaseSensitive,includeMatches:n=Ae.includeMatches,minMatchCharLength:a=Ae.minMatchCharLength,ignoreLocation:i=Ae.ignoreLocation,findAllMatches:r=Ae.findAllMatches,location:o=Ae.location,threshold:s=Ae.threshold,distance:l=Ae.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:a,findAllMatches:r,ignoreLocation:i,location:o,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(Ge).filter((e=>e&&!!e.trim())),a=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let r=!1,o=-1;for(;!r&&++o<Ue;){const e=$e[o];let n=e.isMultiMatch(i);n&&(a.push(new e(n,t)),r=!0)}if(!r)for(o=-1;++o<Ue;){const e=$e[o];let n=e.isSingleMatch(i);if(n){a.push(new e(n,t));break}}}return a}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let i=0,r=[],o=0;for(let a=0,s=t.length;a<s;a+=1){const s=t[a];r.length=0,i=0;for(let t=0,a=s.length;t<a;t+=1){const a=s[t],{isMatch:l,indices:c,score:u}=a.search(e);if(!l){o=0,i=0,r.length=0;break}if(i+=1,o+=u,n){const e=a.constructor.type;Ke.has(e)?r=[...r,...c]:r.push(c)}}if(i){let e={isMatch:!0,score:o/i};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}});const at=e=>{const t="/",n=`font-awesome${t}`;return e&&e.includes(t)?e.split(t)[0]+t:n},it=(e,t)=>{e=e.replace("/","");const n={"font-awesome":["check","star","compass","bell","cog"],ionicons:["checkmark","star","compass","ios-bell","ios-cog"],"icons8-line-awesome":["check","star","compass","bell","cog"],"foundation-icons":["check","star","compass"],"material-icons":["check","star"],"simple-line-icons":["check","star","compass","bell"],typicons:["input-checked-outline","star","compass","bell","cog"],linea:["arrows_check","basic_star","basic_compass","music_bell"]};if(n.hasOwnProperty(e)){const a=n[e].filter((n=>!t.includes(`${e}/${n}`)));let i=(0,o.sample)(a);return i||(i=(0,o.sample)(n[e])),i}return n.fa[0]},rt=(e,t)=>`${e}${t}`,ot=new Map;let st={};const lt=new Set;let ct=!0;const ut=()=>{ct&&(ct=!1,st={});const e="session-"+lt.size;return lt.add(e),()=>{lt.delete(e),0===lt.size&&(ct=!0,st={})}},dt=(e,t)=>{ct?S.Log.error("Generation session is not started"):(0,o.set)(st,e,t)},pt=(e,t)=>ct?(S.Log.error("Generation session is not started"),t):(0,o.get)(st,e,t),mt=window.kubio.blockLibrary,{VIDEO:ft,DOWN_ARROW:gt}=(0,mt.getNamesOfBlocks)(),ht={blocks:["kubio/icon"],elements:["icon"],transform:e=>{let{block:[,t],path:n,addColumnElement:a}=e;a({name:"icon",currentIcon:t.name,path:n})},setter:async(e,t,n,a)=>{const i=M(e,n.path);if(i.includes(ft)||i.includes(gt))return;const r=t||"",{sectionHash:l}=a,c=pt("previousIcons",new Map),d=c.get(l)||[],{columnContext:{is_slider:p=!1},currentIcon:m=""}=n||{};if(!p&&!["hero","pricing","testimonials"].includes(s().get(e,"[1].kubioAI.meta.category"))){let t=!1;const a=r.split(",").map((e=>e.replace("fa-","").trim())).map((e=>e.includes("-")?e.split("-").shift():e));t=a.length?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=at(t);let i=ot.has(a)?ot.get(a):null;if(!i){const e=(e=>Object.keys(u.svgIcons).filter((t=>t.includes(e))).map((t=>t.replace(e,""))).filter((e=>e.length>2)))(a);i=new nt(e,{threshold:.5,location:0,distance:1,includeScore:!0}),ot.set(a,i)}const r=[];for(let t=0;t<e.length;t++){const o=i.search(e[t]);o.length>0&&!n.includes(`${a}${o[0].item}`)&&r.push(o[0])}if(r.length>0){const e=r.reduce((function(e,t){return e&&e.score<t.score?e:t}));return rt(a,e.item)}return rt(a,it(a,n))}(a,m,d):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=at(e),a=it(n,t);return rt(n,a)}(m,d),(0,o.set)(e,[...n.path,1,"name"],t),d.push(t),c.set(l,d),dt("previousIcons",c)}}},bt=[ge,he,ht].filter(Boolean),yt=function(){let{attributes:e,path:t,addColumnElement:n,descendant:a,newColumn:i=o.noop}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=["kubio","style","descendants",a,"background"],s=(0,o.get)(e,[...r,"type"]);if(["image","slideshow","video"].includes(s)&&i(),"image"===s&&n({name:"backgroundImage",path:t,attributePath:[...r,"image","0","source","url"]}),"slideshow"===s){const a=(0,o.get)(e,[...r,"slideshow","slides"],Array.from({length:3})).length;for(let e=0;e<a;e++)n({name:"backgroundSlideshow",path:t,attributePath:[...r,"slideshow","slides",e,"url"]})}"video"===s&&n({name:"backgroundVideo",path:t,attributePath:[...r,"video"]})},vt=[{blocks:["kubio/section","kubio/hero","kubio/navigation","kubio/navigation-section","kubio/navigation-top-bar"],transform:e=>{let{block:[,t],path:n,newColumn:a,addColumnElement:i}=e;yt({attributes:t,path:n,addColumnElement:i,newColumn:a,descendant:"outer"})}},{blocks:["kubio/row"],transform:e=>{let{block:[,t,n],context:a,path:i,addColumnElement:r,newColumn:s}=e;a.section_header=(0,o.get)(t,"kubio.props.meta.isHeader",!1),2===i.length&&(a.list_items=(0,o.get)(t,"kubio.props.layout.equalWidth")&&n.length>1),yt({attributes:t,path:i,addColumnElement:r,newColumn:s,descendant:"container"}),a.section_header&&s()}},{blocks:["kubio/column","kubio/pricing-table-item","kubio/slider-item","kubio/carousel-item","kubio/navigation-top-bar","kubio/navigation-items","kubio/navigation-sticky-items","kubio/flipbox","kubio/flipboxcontent","kubio/flipboxhover"],transform:e=>{let{block:[t,n],path:a,newColumn:i,addColumnElement:r,context:s}=e,l="inner";switch(t){case"kubio/column":const e=s.isTemplatePart?5:4;a.length!==e||s.section_header||i({short_desc:(0,o.get)(n,["kubioAI","desc"],null)});break;case"kubio/pricing-table-item":case"kubio/slider-item":case"kubio/carousel-item":i({is_pricing:"kubio/pricing-table-item"===t,is_slider:"kubio/slider-item"===t||"kubio/carousel-item"===t,list_items:!0});break;case"kubio/flipbox":return i({flipbox:!0}),yt({attributes:n,path:a,addColumnElement:r,descendant:"container"}),yt({attributes:n,path:a,addColumnElement:r,descendant:"normal"}),void yt({attributes:n,path:a,addColumnElement:r,descendant:"hover"});case"kubio/flipboxcontent":case"kubio/flipboxhover":l="container";break;default:i()}yt({attributes:n,path:a,addColumnElement:r,descendant:l})}},{blocks:["kubio/heading","kubio/text"],transform:e=>{let{block:[t,n],path:a,addColumnElement:i,includeContent:r}=e;const s={name:"kubio/heading"===t?"heading":"paragraph",path:a,attributePath:["content"],words:I(n,"content"),chars:P(n,"content")};"kubio/heading"===t&&(s.level=(0,o.get)(n,"kubio.props.level",2)),!0===r&&(s.text=n.content||""),i(s)}},{blocks:["kubio/button","kubio/link"],transform:e=>{let{block:[,t],path:n,addColumnElement:a,includeContent:i}=e;const r={name:"button",path:n,attributePath:["text"]};!0===i&&(r.text=t.content||""),a(r)}},{blocks:["kubio/multipleimagespicture","kubio/image"],transform:e=>{let{path:t,addColumnElement:n}=e;n({name:"image",path:t,attributePath:["url"]})}},{blocks:["kubio/tabitem","kubio/accordionitem"],walkChildren:!1,transform:e=>{let{block:[,t,n],path:a,addColumnElement:i,context:r,includeContent:s}=e;i({name:"question",path:a,attributePath:["title"],words:I(t,"title"),chars:P(t,"title")});let l=n[0];if(l){var c;const e=[],t=t=>e.push(t);null===(c=wt(l[0]))||void 0===c||c.transform({block:l,path:[...a,2,0],context:r,addColumnElement:t,includeContent:s}),l=e[0],(0,o.isEmpty)(l)||i({...e[0],name:"answer"})}}},{blocks:["kubio/counter"],transform:e=>{let{block:[,t],path:n,addColumnElement:a}=e;a({name:"counter",path:n,attributePath:[],words:I(t,"title"),chars:P(t,"title")})}},{blocks:["kubio/iconlistitem"],transform:e=>{let{block:[,t],path:n,addColumnElement:a}=e;const i=I(t,"text");i&&a({name:"list-item",path:n,attributePath:["text"],words:i})}},{blocks:["kubio/video"],transform:e=>{let{path:t,addColumnElement:n}=e;n({name:"video",path:t,attributePath:["internalUrl"]})}}],kt=[{elements:["image","backgroundImage","backgroundSlideshow"],setter:async function(e,t,n){let{siteContext:a,pageContext:i,sectionCategory:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=[...n.path,1,...n.attributePath];if(!(t=(0,o.isString)(t)?t.toLowerCase().replace(/\W+/g," ").replace(/\s+/g," "):null))return;t=(0,o.first)(t.split(",").map((e=>e.trim().toLowerCase())));const l=(0,o.get)(e,s,""),c=[...n.path,1,"kubioAI"];if("backgroundSlideshow"===n.name){const n=(0,o.get)(e,[...c,"slideshowTerms"],[]);(0,o.set)(e,[...c,"slideshowTerms"],[...n,t])}else(0,o.set)(e,[...c,"imageTerms"],t);try{const a=pt("previousQueries",new Map);let i=null;var u;a.has(t)?(i=a.get(t),S.Log.info(`Using cached image searches for "${t}"`)):(i=await ae({search:t,initialImage:l,mediaAttrs:["id"],perPage:30,crop:null==n||null===(u=n.columnContext)||void 0===u?void 0:u.list_items}),a.set(t,i),dt("previousQueries",a));const r=pt("images",[]);let c=(i.items||[]).filter((e=>!r.includes(e.id)));c.length||(c=i.items||[]);const d=(0,o.first)(c);d&&(dt("images",[...r,d.id]),(0,o.set)(e,s,d.url))}catch(e){S.Log.error("Template element image setter",e)}}},{elements:["counter"],setter:async(e,t,n)=>{const{title:a=null,maxValue:i=null}=t||{};a&&(0,o.set)(e,[...n.path,1,"title"],a),i&&((0,o.set)(e,[...n.path,1,"amount"],i),(0,o.set)(e,[...n.path,1,"final"],i))}},{elements:["video","backgroundVideo"],setter:async(e,t,n)=>{try{var a;const i=await ie({search:t,perPage:1}),{video:s=null,poster:l=null}=(null==i||null===(a=i.items)||void 0===a?void 0:a[0])||{};if(s){let t=null;"video"===n.name&&(t=["internalUrl"],(0,o.set)(e,[...n.path,1,"videoCategory"],"internal"),(0,o.set)(e,[...n.path,1,...t],(0,r.addQueryArgs)(s,{_k_ext_fields:".mp4"}))),"backgroundVideo"===n.name&&(t=[...n.attributePath,"internal"],(0,o.set)(e,[...n.path,1,,...n.attributePath,"type"],"internal"),(0,o.set)(e,[...n.path,1,...t],{url:(0,r.addQueryArgs)(s,{_k_ext_fields:".mp4"})}))}if(l){let t=null;"video"===n.name&&(t=["posterImage"],(0,o.set)(e,[...n.path,1,...t],{url:l})),"backgroundVideo"===n.name&&(t=[...n.attributePath,"poster"],(0,o.set)(e,[...n.path,1,...t],{url:l}))}}catch(e){S.Log.error("Template element video setter",e)}}}],wt=e=>{for(let t=0;t<vt.length;t++)if(vt[t].blocks.includes(e))return vt[t];for(let t=0;t<bt.length;t++)if(bt[t].blocks.includes(e))return bt[t]};function _t(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const[a,,i=[]]=e;t(e,n),(0,o.get)(wt(a),"walkChildren",!0)&&i.forEach(((e,a)=>{_t(e,t,[...n,2,a])}))}const xt=function(e,t){let{includeContent:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=["kubio/header","kubio/sidebar","kubio/footer"].includes(e[0]),i=[],r={sectionCategory:t,includeContent:n,isTemplatePart:a},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.push({context:(0,o.merge)((0,o.cloneDeep)(r),e),elements:[],type:"column"})};return _t(e,(function(t,a){var l;const[c,u]=t;null===(l=wt(c))||void 0===l||l.transform({block:t,path:a,context:r,newColumn:s,addColumnElement:t=>(t=>{try{i[i.length-1].elements.push({id:(n=t,(n.name||"el")+"-"+$()()+"-"+$()()),...t})}catch(n){S.Log.error("Kubio AI: Error element to column",n,[e,t])}var n})({...t,short_desc:(0,o.get)(u,["kubioAI","desc"],null)}),includeContent:n})})),i.filter((e=>e.elements.length))},Et=["hero-accent","about","content","features","counters","photo-gallery","portfolio","pricing","testimonials","clients","team","cta","f.a.q.","blog","contact"],Ct={homepage:["hero-accent","about","content","features","counters","photo-gallery","portfolio","pricing","testimonials","clients","team","cta","f.a.q.","blog","contact"],general:["about","content","features","counters","photo-gallery","testimonials","clients","cta"],about:["about","content","features","counters","photo-gallery","clients","testimonials","team","cta"],services:["about","content","features","counters","photo-gallery","testimonials","clients","cta","f.a.q.","contact"],features:["about","content","features","counters","photo-gallery","testimonials","clients","cta","f.a.q."],portfolio:["portfolio","clients","cta"],team:["team","cta"],gallery:["photo-gallery","cta"],faq:["f.a.q.","cta"],pricing:["about","pricing","testimonials"],contact:["contact-info","contact-map","contact-form"]},St=["homepage","portfolio","team","gallery","faq","pricing","contact"],It={general:[],services:['Each service offered by the business will be placed in a separate "content" section.']},Pt=(0,mt.getNamesOfBlocks)(),Ot=async e=>{let{pageTitle:t,siteContext:n,pageContext:a,rules:i=[]}=e,r=(null==a?void 0:a.purpose)||"general";null!=a&&a.isFrontPage&&(r="homepage");let s=[];s=(Ct[r]||Et).filter((e=>!!N(`kubio-content/${e}`))),s=s.filter((e=>{switch(e){case"clients":if("people"===n.clientType||"individual"===n.clientType)return!1;break;case"team":if("individual"===n.ownerType)return!1;break;default:return!0}return!0})),i.length||(i=It[r]||[]);const l=await Q({pageTitle:t,siteContext:n,pageContext:{...a,sortSections:a.hasOwnProperty("sortSections")?a.sortSections:St.includes(r)},allowedSections:s,rules:i});if(s.includes("cta")&&!(0,o.find)(l,{category:"cta"})){let e=null;if(s.forEach(((t,n)=>{n+1<s.length&&"cta"===s[n+1]&&(e=t)})),e){const t=(0,o.findLastIndex)(l,{category:e});t>-1&&l.splice(t+1,0,{category:"cta",summaries:[(0,o.get)(n,"cta.text","")]})}}return l},Mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],{tag:a=[],skipSlugs:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,l=[],c=null,d=null,p=null,m=!1;const f=n?u.FRONT_HEADERS_CATEGORY:u.INNER_HEADERS_CATEGORY;if(!r){const e=N(f,{tag:a,skipSlugs:i});if(!e)return null;p=e.name,m=[...e.publicTags||[],...e.internalTags||[]].includes("overlappable"),d=e.pairCloudPresetId,r=(0,o.get)(e,["content"]);const t=(0,o.get)(e,["context","theme","colors"],null);c=(0,o.cloneDeep)((0,o.get)(e,["context","theme","globalStyle","style","descendants","body"],null)),s().unset(c,["typography","holders","input"]),l=t?(0,o.map)(t,(e=>e)):t}const g=r[2],h=(0,o.cloneDeep)(g.find((e=>e[0]===Pt.NAVIGATION))),b=(0,o.cloneDeep)(g.find((e=>e[0]===Pt.HERO)));h&&((0,o.set)(h,[1,"attrs","name"],(0,t.__)("Navigation","kubio")),(0,o.set)(h,[1,"anchor"],"navigation")),b&&((0,o.set)(b,[1,"attrs","name"],(0,t.__)("Hero","kubio")),(0,o.set)(b,[1,"anchor"],"hero"));let y=null;var v;return d&&(y=N(n?u.INNER_HEADERS_CATEGORY:u.FRONT_HEADERS_CATEGORY,{findBy:{cloudPresetId:d}}),y=(null===(v=y)||void 0===v?void 0:v.content)||null),{category:f,navigation:h,hero:b,colors:l,bodyStyle:c,pairTemplate:y,pairCloudPresetId:d,name:p,overlappable:m}},At=function(){let{tags:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=N(u.FOOTER_CATEGORY,{tags:e});return t?t.content:null},Tt=(e,t)=>({cloudPresetId:e.cloudPresetId,category:t,template:e.content,title:e.title,slug:(0,E.getSectionSlugFromPattern)(e),pairCloudPresetId:e.pairCloudPresetId,name:e.name,internalTags:e.internalTags,publicTags:e.publicTags}),Nt=e=>{let{category:t="section",siteContext:n=null,findBy:a=null,tags:i=[],skippableTags:r=[],excludeWithTags:o=[],skipIds:l=[],returnAll:c=!1}=e;const u=[...i,s().get(n,"sections_tag")],d=N("section"===t?"*":`kubio-content/${t}`,{tag:u,findBy:a,skippableTags:r,excludeWithTags:o,skipIds:l,returnAll:c});return c?d.map((e=>Tt(e,t))):d?Tt(d,t):null},zt=e=>"content"===e.category||!![...e.internalTags,...e.publicTags].includes("dedicated-page"),Lt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a={},i=[];for(let r=0;r<e.length;r++){const{category:s,summaries:l}=e[r],c=(0,o.get)(a,[s],{count:0,pair:null});let u=null;if(null!==c.pair){const e=c.count%c.pair.length;u={cloudPresetId:c.pair[e]}}const d=Nt({category:s,siteContext:t,findBy:u,tags:L([],s,n),skippableTags:L([],s,n),excludeWithTags:j(s,n)});if(!d)continue;const p=e.reduce(((e,t,n)=>(t.category===s&&e.push(n),e)),[]),m=l[p.indexOf(r)%l.length]||"";d.pairCloudPresetId&&zt(d)&&1===p.length&&e.splice(r+1,0,{category:s,summaries:l.filter((e=>e!==m))}),i.push({...d,summaries:[m]});let f=c.pair;!f&&d.pairCloudPresetId&&(f=[d.cloudPresetId,d.pairCloudPresetId]),(0,o.set)(a,[s],{count:f?c.count+1:0,pair:f})}return i},jt=async e=>{let{pageTitle:t,siteContext:n,pageContext:a}=e;const i=await Ot({pageTitle:t,siteContext:n,pageContext:a}),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=[],i=s().get(t,"sections_tag");return n.isFrontPage,e.filter((e=>e.template)).forEach((e=>{var t,r,o,s,l,c;a.push({...e,summary:(null===(t=e.summaries||[])||void 0===t||null===(r=t.pop)||void 0===r?void 0:r.call(t))||""});const u=1===a.length&&z(a[0].template[1]),d=a.length>=2&&z(null===(o=a.at(-1))||void 0===o||null===(s=o.template)||void 0===s?void 0:s[1])&&z(null===(l=a.at(-2))||void 0===l||null===(c=l.template)||void 0===c?void 0:c[1]);if(u||d){a.pop();const t=N("kubio-content/"+e.category,{exclude:[e.slug],excludeSectionWithBackground:!0,tag:L(i,e.category,n),excludeWithTags:j(e.category,n),skippableTags:L([],e.category,n)});var p,m;t&&a.push({...e,category:e.category,template:t.content,title:t.title,name:t.name,summary:(null===(p=e.summaries||[])||void 0===p||null===(m=p.pop)||void 0===m?void 0:m.call(p))||""})}})),a.map((e=>{let{summaries:t,...n}=e;return n}))}(Lt(i,n,a),n,a).filter(Boolean);return r},Rt=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=(e=>{for(let n=0;n<kt.length;n++){var t;if(kt[n].elements.includes(e))return null===(t=kt[n])||void 0===t?void 0:t.setter}for(let t=0;t<bt.length;t++){var n;if(bt[t].elements.includes(e))return null===(n=bt[t])||void 0===n?void 0:n.setter}})(n.name);i?await i(e,t,n,a):t&&(e=(0,o.set)(e,[...n.path,1,...n.attributePath],t));const r=["words","chars"];for(const t of r)n.hasOwnProperty(t)&&(e=(0,o.set)(e,[...n.path,1,"kubioAI","meta","initialValues",t],n[t]));return t},Ft=async t=>{let{structure:n,label:a,anchor:i,data:r,sectionTemplate:s,category:l,summary:c="",siteContext:u,pageContext:d}=t;const p=[],m=(e=>{const t={};return e.forEach((e=>{e.elements.forEach((n=>{t[n.id]={...n,columnContext:e.context}}))})),t})(n),f=[],g=$().generate();try{for(let e=0;e<r.length;e++){const t=r[e],n=m[t.id];n&&(p.push(Rt(s,t.content,n,{siteContext:u,pageContext:d,sectionCategory:l,sectionHash:g})),f.push({name:n.name,structure:n,content:t.content}))}await Promise.all(p),(0,o.set)(s,[1,"kubioAI","meta","category"],O(l,!0)),(0,o.set)(s,[1,"kubioAI","meta","summary"],c)}catch(e){throw S.Log.error("Error in filling section with data",{category:l,template:s,elements:m}),e}return(0,o.set)(s,[1,"attrs","name"],a),(0,o.set)(s,[1,"anchor"],i),[(0,e.refreshBlockStyleRefs)(s),f]},Dt=(e,t)=>{var n;const a=[];var i;return"cta"===e&&null!=t&&null!==(n=t.cta)&&void 0!==n&&n.text&&a.push(`For the main header in the section use the following content, translated in the site language: "${null==t||null===(i=t.cta)||void 0===i?void 0:i.text}"`),a},Bt=async function(){let{template:e,category:t,pageTitle:n,siteContext:a,pageContext:i,summary:r="",label:s="",anchor:l="",includeContent:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=(0,o.cloneDeep)(e),d=xt(u,t,{includeContent:c});if((0,o.isEmpty)(d))return[u,[]];const p=await te({category:t,structure:d,pageTitle:n,siteContext:a,pageContext:i,summary:r,rules:Dt(t,a)});return await Ft({structure:d,label:s,anchor:l,data:p,sectionTemplate:u,category:t,summary:r,siteContext:a,pageContext:i})},Wt=async function(){let{template:e,category:t,pageTitle:n,siteContext:a,pageContext:i,summary:r="",label:s="",anchor:l="",includeContent:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=(0,o.cloneDeep)(e),d=xt(u,t,{includeContent:c}),p=await ne({category:t,structure:d,pageTitle:n,siteContext:a,pageContext:i,summary:r,rules:Dt(t,a)});return await Ft({structure:d,label:s,anchor:l,data:p,sectionTemplate:u,category:t,summary:r,siteContext:a,pageContext:i})},Vt=window.kubio.controls,$t=window.kubio.icons,Ut=window.wp.components,Gt=window.wp.primitives,Kt=(0,c.createElement)(Gt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(Gt.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yt.apply(this,arguments)}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Xt(e,t,n[t])}))}return e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],_n=!0,a=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(_n=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);_n=!0);}catch(e){a=!0,i=e}finally{try{_n||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Zt=function(){},en={},tn={},nn={mark:Zt,measure:Zt};try{"undefined"!=typeof window&&(en=window),"undefined"!=typeof document&&(tn=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(nn=performance)}catch(e){}var an=(en.navigator||{}).userAgent,rn=void 0===an?"":an,on=en,sn=tn,ln=nn,cn=(on.document,!!sn.documentElement&&!!sn.head&&"function"==typeof sn.addEventListener&&"function"==typeof sn.createElement),un=(~rn.indexOf("MSIE")||rn.indexOf("Trident/"),"___FONT_AWESOME___"),dn="fa",pn="svg-inline--fa",mn=(function(){try{return!0}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),fn=mn.concat([11,12,13,14,15,16,17,18,19,20]),gn={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hn=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",gn.GROUP,gn.SWAP_OPACITY,gn.PRIMARY,gn.SECONDARY].concat(mn.map((function(e){return"".concat(e,"x")}))).concat(fn.map((function(e){return"w-".concat(e)}))),on.FontAwesomeConfig||{});sn&&"function"==typeof sn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Jt(e,2),n=t[0],a=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=sn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(hn[a]=i)}));var bn=Qt({},{familyPrefix:dn,replacementClass:pn,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},hn);bn.autoReplaceSvg||(bn.observeMutations=!1);var yn=Qt({},bn);on.FontAwesomeConfig=yn;var vn=on||{};vn[un]||(vn[un]={}),vn[un].styles||(vn[un].styles={}),vn[un].hooks||(vn[un].hooks={}),vn[un].shims||(vn[un].shims=[]);var kn=vn[un],wn=[];cn&&((sn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(sn.readyState)||sn.addEventListener("DOMContentLoaded",(function e(){sn.removeEventListener("DOMContentLoaded",e),wn.map((function(e){return e()}))})));var xn,En="pending",Cn="settled",Sn="fulfilled",In="rejected",Pn=function(){},On=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,Mn="undefined"==typeof setImmediate?setTimeout:setImmediate,An=[];function Tn(){for(var e=0;e<An.length;e++)An[e][0](An[e][1]);An=[],xn=!1}function Nn(e,t){An.push([e,t]),xn||(xn=!0,Mn(Tn,0))}function zn(e){var t=e.owner,n=t._state,a=t._data,i=e[n],r=e.then;if("function"==typeof i){n=Sn;try{a=i(a)}catch(e){Fn(r,e)}}Ln(r,a)||(n===Sn&&jn(r,a),n===In&&Fn(r,a))}function Ln(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===qt(t))){var a=t.then;if("function"==typeof a)return a.call(t,(function(a){n||(n=!0,t===a?Rn(e,a):jn(e,a))}),(function(t){n||(n=!0,Fn(e,t))})),!0}}catch(t){return n||Fn(e,t),!0}return!1}function jn(e,t){e!==t&&Ln(e,t)||Rn(e,t)}function Rn(e,t){e._state===En&&(e._state=Cn,e._data=t,Nn(Bn,e))}function Fn(e,t){e._state===En&&(e._state=Cn,e._data=t,Nn(Wn,e))}function Dn(e){e._then=e._then.forEach(zn)}function Bn(e){e._state=Sn,Dn(e)}function Wn(e){e._state=In,Dn(e),!e._handled&&On&&n.g.process.emit("unhandledRejection",e._data,e)}function Vn(e){n.g.process.emit("rejectionHandled",e)}function $n(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof $n==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Fn(t,e)}try{e((function(e){jn(t,e)}),n)}catch(e){n(e)}}(e,this)}$n.prototype={constructor:$n,_state:En,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Pn),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===In&&On&&Nn(Vn,this)),this._state===Sn||this._state===In?Nn(zn,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},$n.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new $n((function(t,n){var a=[],i=0;function r(e){return i++,function(n){a[e]=n,--i||t(a)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"==typeof o.then?o.then(r(s),n):a[s]=o;i||t(a)}))},$n.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new $n((function(t,n){for(var a,i=0;i<e.length;i++)(a=e[i])&&"function"==typeof a.then?a.then(t,n):t(a)}))},$n.resolve=function(e){return e&&"object"===qt(e)&&e.constructor===$n?e:new $n((function(t){t(e)}))},$n.reject=function(e){return new $n((function(t,n){n(e)}))};var Un={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Gn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kn(){for(var e=12,t="";e-- >0;)t+=Gn[62*Math.random()|0];return t}function Yn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qn(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function Hn(e){return e.size!==Un.size||e.x!==Un.x||e.y!==Un.y||e.rotate!==Un.rotate||e.flipX||e.flipY}function Xn(e){var t=e.transform,n=e.containerWidth,a=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(a/2*-1," -256)")}}}var Qn={x:0,y:0,width:"100%",height:"100%"};function Jn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Zn=(yn.measurePerformance&&ln&&ln.mark&&ln.measure,function(e,t,n,a){var i,r,o,s=Object.keys(e),l=s.length,c=void 0!==a?function(e,t){return function(n,a,i,r){return e.call(t,n,a,i,r)}}(t,a):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<l;i++)o=c(o,e[r=s[i]],r,e);return o});function ea(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,a=void 0!==n&&n,i=Object.keys(t).reduce((function(e,n){var a=t[n];return a.icon?e[a.iconName]=a.icon:e[n]=a,e}),{});"function"!=typeof kn.hooks.addPack||a?kn.styles[e]=Qt({},kn.styles[e]||{},i):kn.hooks.addPack(e,i),"fas"===e&&ea("fa",t)}var ta=kn.styles,na=kn.shims,aa=function(){var e=function(e){return Zn(ta,(function(t,n,a){return t[a]=Zn(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var a=t[2];return e[n]=n,a.forEach((function(t){e[t]=n})),e}));var t="far"in ta;Zn(na,(function(e,n){var a=n[0],i=n[1],r=n[2];return"far"!==i||t||(i="fas"),e[a]={prefix:i,iconName:r},e}),{})};function ia(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ra(e){var t=e.tag,n=e.attributes,a=void 0===n?{}:n,i=e.children,r=void 0===i?[]:i;return"string"==typeof e?Yn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Yn(e[n]),'" ')}),"").trim()}(a),">").concat(r.map(ra).join(""),"</").concat(t,">")}aa(),kn.styles;function oa(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}oa.prototype=Object.create(Error.prototype),oa.prototype.constructor=oa;var sa={fill:"currentColor"},la={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ca=(Qt({},sa,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Qt({},la,{attributeName:"opacity"}));function ua(e){var t=e[0],n=e[1],a=Jt(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}Qt({},sa,{cx:"256",cy:"364",r:"28"}),Qt({},la,{attributeName:"r",values:"28;14;28;28;14;28;"}),Qt({},ca,{values:"1;0;1;1;0;1;"}),Qt({},sa,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Qt({},ca,{values:"1;0;0;0;0;1;"}),Qt({},sa,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Qt({},ca,{values:"0;0;1;1;0;0;"}),kn.styles,kn.styles;var da='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var pa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Qt({},e.definitions[t]||{},i[t]),ea(t,i[t]),aa()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var a=n[t],i=a.prefix,r=a.iconName,o=a.icon;e[i]||(e[i]={}),e[i][r]=o})),e}}],n&&Ht(t.prototype,n),e}();function ma(){yn.autoAddCss&&!ba&&(function(e){if(e&&cn){var t=sn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=sn.head.childNodes,a=null,i=n.length-1;i>-1;i--){var r=n[i],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(a=r)}sn.head.insertBefore(t,a)}}(function(){var e=dn,t=pn,n=yn.familyPrefix,a=yn.replacementClass,i=da;if(n!==e||a!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(a))}return i}()),ba=!0)}function fa(e){var t=e.prefix,n=void 0===t?"fa":t,a=e.iconName;if(a)return ia(ha.definitions,n,a)||ia(kn.styles,n,a)}var ga,ha=new pa,ba=!1,ya=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),a=n[0],i=n.slice(1).join("-");if(a&&"h"===i)return e.flipX=!0,e;if(a&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(a){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t}(e)},va=(ga=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.transform,r=void 0===i?Un:i,o=a.symbol,s=void 0!==o&&o,l=a.mask,c=void 0===l?null:l,u=a.maskId,d=void 0===u?null:u,p=a.title,m=void 0===p?null:p,f=a.titleId,g=void 0===f?null:f,h=a.classes,b=void 0===h?[]:h,y=a.attributes,v=void 0===y?{}:y,k=a.styles,w=void 0===k?{}:k;if(e){var _=e.prefix,x=e.iconName,E=e.icon;return t=Qt({type:"icon"},e),n=function(){return ma(),yn.autoA11y&&(m?v["aria-labelledby"]="".concat(yn.replacementClass,"-title-").concat(g||Kn()):(v["aria-hidden"]="true",v.focusable="false")),function(e){var t=e.icons,n=t.main,a=t.mask,i=e.prefix,r=e.iconName,o=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,p=e.watchable,m=void 0!==p&&p,f=a.found?a:n,g=f.width,h=f.height,b="fa-w-".concat(Math.ceil(g/h*16)),y=[yn.replacementClass,r?"".concat(yn.familyPrefix,"-").concat(r):"",b].filter((function(e){return-1===d.classes.indexOf(e)})).concat(d.classes).join(" "),v={children:[],attributes:Qt({},d.attributes,{"data-prefix":i,"data-icon":r,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(h)})};m&&(v.attributes["data-fa-i2svg"]=""),l&&v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(u||Kn())},children:[l]});var k=Qt({},v,{prefix:i,iconName:r,main:n,mask:a,maskId:c,transform:o,symbol:s,styles:d.styles}),w=a.found&&n.found?function(e){var t,n=e.children,a=e.attributes,i=e.main,r=e.mask,o=e.maskId,s=e.transform,l=i.width,c=i.icon,u=r.width,d=r.icon,p=Xn({transform:s,containerWidth:u,iconWidth:l}),m={tag:"rect",attributes:Qt({},Qn,{fill:"white"})},f=c.children?{children:c.children.map(Jn)}:{},g={tag:"g",attributes:Qt({},p.inner),children:[Jn(Qt({tag:c.tag,attributes:Qt({},c.attributes,p.path)},f))]},h={tag:"g",attributes:Qt({},p.outer),children:[g]},b="mask-".concat(o||Kn()),y="clip-".concat(o||Kn()),v={tag:"mask",attributes:Qt({},Qn,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,h]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},v]};return n.push(k,{tag:"rect",attributes:Qt({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(b,")")},Qn)}),{children:n,attributes:a}}(k):function(e){var t=e.children,n=e.attributes,a=e.main,i=e.transform,r=qn(e.styles);if(r.length>0&&(n.style=r),Hn(i)){var o=Xn({transform:i,containerWidth:a.width,iconWidth:a.width});t.push({tag:"g",attributes:Qt({},o.outer),children:[{tag:"g",attributes:Qt({},o.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:Qt({},a.icon.attributes,o.path)}]}]})}else t.push(a.icon);return{children:t,attributes:n}}(k),_=w.children,x=w.attributes;return k.children=_,k.attributes=x,s?function(e){var t=e.prefix,n=e.iconName,a=e.children,i=e.attributes,r=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Qt({},i,{id:!0===r?"".concat(t,"-").concat(yn.familyPrefix,"-").concat(n):r}),children:a}]}]}(k):function(e){var t=e.children,n=e.main,a=e.mask,i=e.attributes,r=e.styles,o=e.transform;if(Hn(o)&&n.found&&!a.found){var s={x:n.width/n.height/2,y:.5};i.style=qn(Qt({},r,{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(k)}({icons:{main:ua(E),mask:c?ua(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:x,transform:Qt({},Un,r),symbol:s,title:m,maskId:d,titleId:g,extra:{attributes:v,styles:w,classes:b}})},Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(e){return ra(e)}))}}),Object.defineProperty(t,"node",{get:function(){if(cn){var e=sn.createElement("div");return e.innerHTML=t.html,e.children}}}),t}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:fa(e||{}),a=t.mask;return a&&(a=(a||{}).icon?a:fa(a||{})),ga(n,Qt({},t,{mask:a}))}),ka=n(5697),wa=n.n(ka);const _a=window.React;var xa=n.n(_a);function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ma(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Aa=!1;try{Aa=!0}catch(e){}function Ta(e){return null===e?null:"object"===Ea(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function Na(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ca({},e,t):{}}function za(e){var t=e.forwardedRef,n=Pa(e,["forwardedRef"]),a=n.icon,i=n.mask,r=n.symbol,o=n.className,s=n.title,l=Ta(a),c=Na("classes",[].concat(Oa(function(e){var t,n=e.spin,a=e.pulse,i=e.fixedWidth,r=e.inverse,o=e.border,s=e.listItem,l=e.flip,c=e.size,u=e.rotation,d=e.pull,p=(Ca(t={"fa-spin":n,"fa-pulse":a,"fa-fw":i,"fa-inverse":r,"fa-border":o,"fa-li":s,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(c),null!=c),Ca(t,"fa-rotate-".concat(u),null!=u&&0!==u),Ca(t,"fa-pull-".concat(d),null!=d),Ca(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(n)),Oa(o.split(" ")))),u=Na("transform","string"==typeof n.transform?ya(n.transform):n.transform),d=Na("mask",Ta(i)),p=va(l,Ia({},c,{},u,{},d,{symbol:r,title:s}));if(!p)return function(){var e;!Aa&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var m=p.abstract,f={ref:t};return Object.keys(n).forEach((function(e){za.defaultProps.hasOwnProperty(e)||(f[e]=n[e])})),La(m[0],f)}za.displayName="FontAwesomeIcon",za.propTypes={border:wa().bool,className:wa().string,mask:wa().oneOfType([wa().object,wa().array,wa().string]),fixedWidth:wa().bool,inverse:wa().bool,flip:wa().oneOf(["horizontal","vertical","both"]),icon:wa().oneOfType([wa().object,wa().array,wa().string]),listItem:wa().bool,pull:wa().oneOf(["right","left"]),pulse:wa().bool,rotation:wa().oneOf([0,90,180,270]),size:wa().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:wa().bool,symbol:wa().oneOfType([wa().bool,wa().string]),title:wa().string,transform:wa().oneOfType([wa().string,wa().object]),swapOpacity:wa().bool},za.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var La=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),r=Object.keys(n.attributes||{}).reduce((function(e,t){var a=n.attributes[t];switch(t){case"class":e.attrs.className=a,delete n.attributes.class;break;case"style":e.attrs.style=a.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,a=t.indexOf(":"),i=Ma(t.slice(0,a)),r=t.slice(a+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=r:e[i]=r,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=a:e.attrs[Ma(t)]=a}return e}),{attrs:{}}),o=a.style,s=void 0===o?{}:o,l=Pa(a,["style"]);return r.attrs.style=Ia({},r.attrs.style,{},s),t.apply(void 0,[n.tag,Ia({},r.attrs,{},l)].concat(Oa(i)))}.bind(null,xa().createElement);const ja=window.wp.mediaUtils,Ra=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{value:(0,o.get)(e,t,a),onChange:e=>{const a=(0,o.set)({},t,e);n(a)}}},Fa=window.wp.compose,Da=(0,c.forwardRef)((function({icon:e,size:t=24,...n},a){return(0,c.cloneElement)(e,{width:t,height:t,...n,ref:a})}));var Ba=n(4184),Wa=n.n(Ba);const Va=()=>{const{activeStep:e,goToStep:t,steps:n}=(0,Vt.useWizard)(),a=(0,c.useMemo)((()=>n.map(((e,t)=>e.skipNavigation?null:{step:e,index:t})).filter(Boolean)),[n]);return(0,c.createElement)("div",{className:"kubio-ai-wizard-sidebar-steps"},a.map(((n,a)=>{let{step:i,index:r}=n;return(0,c.createElement)("div",{key:i.name,className:Wa()("kubio-ai-wizard-sidebar-step",{"kubio-ai-wizard-sidebar-step--passed":e>r,"kubio-ai-wizard-sidebar-step--current":e===r}),tabIndex:0,role:"button",onClick:()=>r<e?t(i.name):o.noop},(0,c.createElement)("div",{className:"kubio-ai-wizard-sidebar-step-number-container"},(0,c.createElement)("div",{className:"kubio-ai-wizard-sidebar-step-number"},a+1)),(0,c.createElement)("div",{className:"kubio-ai-wizard-sidebar-step-text"},i.label&&(0,c.createElement)("h4",null,i.label),i.description&&(0,c.createElement)("p",null,i.description)))})))},$a=(0,Fa.createHigherOrderComponent)((n=>a=>{const i=(0,c.useRef)(o.stubTrue),[r,s]=(0,c.useState)(!1),l=(0,c.useRef)(),d=(0,g.useSelect)((e=>{var t;const{getClientIdsWithDescendants:n,getBlock:a,getBlocks:i}=e("core/block-editor"),{currentPageHasFSETemplate:r=o.stubFalse}=e(u.STORE_KEY)||{};let s=null;var l;return r()&&(s=n().find((e=>{var t;return"core/post-content"===(null===(t=a(e))||void 0===t?void 0:t.name)})),s)?0===(null===(l=i(s))||void 0===l?void 0:l.length):0===(null===(t=i(s))||void 0===t?void 0:t.length)}),[]),p=(0,c.useCallback)((e=>{i.current=e}),[]),{previousStep:m,nextStep:f,isLastStep:b,steps:y,activeStepName:v,finishLabel:k}=(0,Vt.useWizard)(),[w,_]=(0,c.useState)(!1),[x,E]=(0,c.useState)({}),{isSetup:C,onFinish:S,isNewPageWizard:I,data:P,updateData:O,isRegenerate:M}=a,[A,T]=(0,c.useState)(!1),N=(0,c.useCallback)((function(){return T($().generate()),O(...arguments)}),[O]);(0,c.useEffect)((()=>{if(A){const e=i.current(),t=0===Object.values(e).filter(Boolean).length;_(!t),E(e)}}),[_,P,A]);const z=(0,c.useCallback)((()=>{const e=i.current();return!0!=(0===Object.values(e).filter(Boolean).length)?(E(e),void _(!0)):b?C||d||I||!M?S():s(!0):void f()}),[b,f,C,d,I,M,S]),L=(0,c.useMemo)((()=>{const e=y.filter((e=>!e.skipNavigation));return 0===(0,o.findIndex)(e,(e=>e.name===v))}),[v,y]),[j]=h();(0,e.usePopupInsideModal)(r);const R=(0,c.useMemo)((()=>b?k||(C?(0,t.__)("Save changes","kubio"):(0,t.__)("Generate","kubio")):(0,t.__)("Next","kubio")),[k,b,C]),F=(0,c.useMemo)((()=>b&&!j||w),[b,j,w]),D=(0,c.useMemo)((()=>b&&!j?(0,t.__)("Please connect to Kubio AI first.","kubio"):(0,o.first)(Object.values(x).filter((e=>!(0,o.isEmpty)(e))))),[x,j,b]);return(0,c.createElement)("div",{className:"kubio-ai-wizard-step-wrapper"},(0,c.createElement)("div",{className:"kubio-ai-wizard-sidebar"},(0,c.createElement)(Va,null)),(0,c.createElement)("div",{className:"kubio-ai-wizard-content"},(0,c.createElement)("div",{className:"kubio-ai-wizard-step"},(0,c.createElement)(n,Yt({},a,{nextStepIsDisabled:w,setNextStepIsDisabled:_,errors:x,setErrors:E,setValidator:p,updateData:N,rawUpdateData:O}))),(0,c.createElement)("div",{className:"kubio-ai-wizard-footer"},(0,c.createElement)("div",{className:"kubio-ai-wizard-footer__left-side"}),(0,c.createElement)("div",{className:"kubio-ai-wizard-footer__right-side"},r&&(0,c.createElement)(Ut.Popover,{anchor:l.current,placement:"top",offset:10,focusOnMount:!1,className:"kubio-ai-wizard-confirmation",shift:!0,flip:!0},(0,c.createElement)(Ut.Flex,{className:"kubio-ai-wizard-confirmation__message",align:"flex-start"},(0,c.createElement)(Da,{icon:$t.InfoIcon,size:16}),(0,c.createElement)("p",null,(0,t.__)("Looks like the current page already has content. This action will replace the current page content.","kubio"))),(0,c.createElement)(Ut.Flex,{justify:"flex-end"},(0,c.createElement)(Ut.Button,{className:"kubio-ai-button-tertiary has-text",onClick:()=>s(!1)},(0,t.__)("Back","kubio")),(0,c.createElement)(Ut.Button,{onClick:S,className:"kubio-ai-button has-text"},(0,t.__)("Continue","kubio")))),(0,c.createElement)(Ut.Button,{className:"kubio-ai-button-tertiary has-text",onClick:m,disabled:L},(0,t.__)("Back","kubio")),(0,c.createElement)(Ut.Tooltip,{placement:"top",delay:0,text:D?(0,c.createElement)("span",{className:"kubio-ai-wizard-error-tooltip"},D):null,hideOnClick:!1},(0,c.createElement)("div",null,(0,c.createElement)(Ut.Button,{ref:l,onClick:z,disabled:F,className:Wa()("has-text",{"kubio-ai-button":b,"kubio-ai-button-secondary":!b})},R)))))))}),"withStepWrapper"),Ua=(0,c.createElement)(Gt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(Gt.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),Ga=[{value:"multi-page",label:(0,t.__)("Multi page","kubio")},{value:"one-page",label:(0,t.__)("Single page","kubio")}],Ka=e=>{let{field:t,label:n,errors:a,children:i}=e;return(0,c.createElement)("span",{className:Wa()("kubio-ai-wizard-control-label",{"has-errors":a&&!!a[t]})},n,!!a&&!!a[t]&&(0,c.createElement)("span",{className:"error-message"},a[t]),(0,c.createElement)("div",{className:"kubio-ai-wizard-control-label__extra-info"},i))},Ya=["",(0,t.__)("Too short","kubio"),(0,t.__)("Almost there","kubio"),(0,t.__)("Great description","kubio")],qa=e=>{let{wordsCount:t}=e;const n=(0,c.useMemo)((()=>{let e=0;return t>0&&(e=t<=20?1:t<=30?2:3),e}),[t]);return(0,c.createElement)("div",{className:`kubio-short-description-meter kubio-short-description-meter__level-${n}`},(0,c.createElement)("span",null,Ya[n]),(0,c.createElement)("ul",{className:"kubio-short-description-meter__lines"},(0,c.createElement)("li",null),(0,c.createElement)("li",null),(0,c.createElement)("li",null)))},Ha=$a((n=>{let{data:a,updateData:r,isFrontPage:s=!1,isRegenerate:l=!1,setValidator:u,errors:p,isSetup:f=!1}=n;const{title:g}=(0,m.useSiteLogoImages)(),h=(0,c.useMemo)((()=>(0,o.map)(i(),(e=>{let{label:t,description:n,value:a}=e;return{value:a,label:t,description:n}}))),[]),b=(0,c.useCallback)((function(e){return Ra(a,e,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}),[a,r]),y=b("short_desc"),v=b("business_type","Business"),k=b("business_name",g),[w,_]=(0,c.useState)((0,o.words)(y.value).length),x=(0,d.useDebounce)(_,150);return(0,c.useEffect)((()=>{x((0,o.words)(y.value).length)}),[x,y]),(0,c.useEffect)((()=>{u((()=>{const e={business_name:null,business_type:null,short_desc:null};return k.value||(e.business_name=(0,t.__)("Website name cannot be empty!","kubio")),v.value||(e.business_type=(0,t.__)("Website type cannot be empty!","kubio")),y.value?w>100&&(e.short_desc=(0,t.__)("Website description exceeds 100 words. Please edit & keep it under the limit to proceed.","kubio")):e.short_desc=(0,t.__)("Website description cannot be empty!","kubio"),e}))}),[k.value,v.value,u,y.value,w]),(0,c.createElement)("div",{className:"kubio-ai-wizard__general-info"},(0,c.createElement)("div",{className:"kubio-ai-wizard-form-fields"},(0,c.createElement)("div",{className:"kubio-ai-wizard__columns-layout"},(0,c.createElement)(Vt.InputControl,Yt({label:(0,c.createElement)(Ka,{label:(0,t.__)("Website name","kubio"),field:"business_name",errors:p}),className:Wa()("kubio-ai-wizard__general-info__business-name",(null==p?void 0:p.business_name)&&"has-errors")},k)),(0,c.createElement)(Vt.SuggestionsInput,Yt({label:(0,c.createElement)(Ka,{label:(0,t.__)("Website type","kubio"),field:"business_type",errors:p}),className:Wa()("kubio-ai-wizard__general-info__business-type",(null==p?void 0:p.business_type)&&"has-errors"),options:h,optionRender:e=>(0,c.createElement)("div",{className:"kubio-ai-language-style-select-item"},(0,c.createElement)("span",null,e.label)),popoverClassName:"kubio-ai-business-suggestion-popover",filterKeys:["label","description"],suggestionsToShow:10,onSuggestionClick:(e,t)=>t(e.label)},v)),s&&!l&&!f&&(0,c.createElement)(Vt.GutentagSelectControl,Yt({label:(0,t.__)("Website structure","kubio"),inlineLabel:!1,options:Ga,popoverClassName:"kubio-ai-wizard__select-control-dropdown"},b("structure_type","multi-page"))))),(0,c.createElement)("div",{className:"kubio-ai-wizard-form-fields no-gap"},(0,c.createElement)("div",{className:"kubio-ai-wizard-business-desc"},(0,c.createElement)(Vt.TextareaControl,Yt({label:(0,c.createElement)(Ka,{label:(0,t.__)("Short description of the website","kubio"),field:"short_desc"},(0,c.createElement)(qa,{wordsCount:w})),className:Wa()("kubio-ai-wizard-business-desc-field",(null==p?void 0:p.short_desc)&&"has-errors"),rows:10},y)),(0,c.createElement)("div",{className:"wizard-field-info"},(0,c.createElement)("span",{className:"error-message"},null==p?void 0:p.short_desc),(0,c.createElement)("span",{className:Wa()({"error-message":w>100})},w,"/100")),(0,c.createElement)("div",{className:"kubio-ai-wizard-business-desc__recommendations"},(0,c.createElement)("div",{className:"kubio-ai-wizard-business-desc__recommendations__title"},(0,c.createElement)("img",{src:(0,e.staticAssetURL)("ai-assets/recommendations-icon.svg"),alt:""}),(0,c.createElement)("span",null,(0,t.__)("Recommendations","kubio"))),(0,c.createElement)("div",{className:"kubio-ai-wizard-business-desc__recommendations__body"},(0,c.createElement)("span",null,(0,t.__)("A few important things to mention in your description:","kubio")),(0,c.createElement)("ul",null,(0,c.createElement)("li",null,(0,t.__)("your main activity","kubio")),(0,c.createElement)("li",null,(0,t.__)("main products or services","kubio")),(0,c.createElement)("li",null,(0,t.__)("the purpose of the website","kubio"))))))))})),Xa=["en_US","es_ES","de_DE","fr_FR","en_GB","ja_JP"],Qa=[{type:"facebook",url:""},{type:"instagram",url:""},{type:"youtube",url:""}],Ja=[{name:"facebook",label:(0,t.__)("Facebook","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]}}),placeholder:"https://www.facebook.com/..."},{name:"twitter",label:(0,t.__)("Twitter","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]}}),placeholder:"https://www.twitter.com/..."},{name:"instagram",label:(0,t.__)("Instagram","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]}}),placeholder:"https://www.instagram.com/..."},{name:"youtube",label:(0,t.__)("YouTube","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]}}),placeholder:"https://www.youtube.com/..."},{name:"whatsapp",label:(0,t.__)("Whatsapp","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]}}),placeholder:"https://wa.me/+1xxxxxxxxxxx"},{name:"tiktok",label:(0,t.__)("Tiktok","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"tiktok",icon:[448,512,[],"e07b","M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"]}}),placeholder:"https://www.tiktok.com/..."},{name:"pinterest",label:(0,t.__)("Pinterest","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"pinterest",icon:[496,512,[],"f0d2","M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"]}}),placeholder:"https://www.pinterest.com/..."},{name:"linkedin",label:(0,t.__)("Linkedin","kubio"),icon:(0,c.createElement)(za,{icon:{prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]}}),placeholder:"https://www.linkedin.com/..."}],Za=$a((e=>{let{data:n,updateData:a,rawUpdateData:i,setValidator:r,errors:l,isFrontPage:u=!1,startWithAIFrontPage:d=!1,isRegenerate:p=!1}=e;const m=(0,c.useCallback)((function(e){return Ra(n,e,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}),[n,a]),f=(m("contact.email"),m("website_logo")),{cloudTags:h}=(0,g.useSelect)((e=>{const{getSettings:t=s().noop}=e("kubio/edit-site")||{},n=t()||{};return{cloudTags:(null==n?void 0:n.kubioBlockTags)||[]}}),[]),b=(0,c.useMemo)((()=>h.map((e=>({label:e.label,value:e.slug})))),[h]),y=(0,c.useCallback)((function(e){return Ra(n,e,i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}),[n,i])("sections_tag"),v=(0,c.useRef)();(0,c.useEffect)((()=>{if(0===b.length||v.current)return;if(y.value)return;const e=["shadow","flat"],t=b.filter((t=>{let{value:n}=t;return e.includes(n)})),n=t[Math.floor(Math.random()*t.length)].value;v.current=n,y.onChange(n)}),[b,y.value,y,u,p,d]);const k=(0,c.useMemo)((()=>{const e=(0,o.map)(_(),((e,t)=>({label:e,value:t})));return[{items:e.filter((e=>Xa.includes(e.value))).sort(((e,t)=>Xa.indexOf(e.value)-Xa.indexOf(t.value)))},{items:e.filter((e=>!Xa.includes(e.value)))}]}),[]),w=(0,c.useMemo)((()=>(0,o.map)(x(),((e,t)=>{let{label:n,description:a}=e;return{label:n,description:a,value:t}}))),[]),E=m("language","");return(0,c.useEffect)((()=>{r((()=>{const e={language:null};return E.value||(e.language=(0,t.__)("Website language is required","kubio")),e}))}),[E.value,r]),(0,c.createElement)("div",{className:"kubio-ai-wizard__columns-layout"},(0,c.createElement)("div",{className:"kubio-ai-wizard-form-fields"},(0,c.createElement)(Vt.InputControl,Yt({label:(0,c.createElement)("span",null,(0,t.__)("Email address","kubio"),(0,c.createElement)("span",{className:"components-base-control__label__appendix"},"(",(0,t.__)("Optional","kubio"),")")),className:Wa()((null==l?void 0:l.email)&&"has-errors")},m("contact.email"))),(0,c.createElement)(Vt.InputControl,Yt({label:(0,c.createElement)(c.Fragment,null,(0,t.__)("Phone number","kubio"),(0,c.createElement)("span",{className:"components-base-control__label__appendix"},(0,t.__)("(Optional)","kubio")))},m("contact.phone"))),(0,c.createElement)(Vt.InputControl,Yt({label:(0,c.createElement)(c.Fragment,null,(0,t.__)("Address","kubio"),(0,c.createElement)("span",{className:"components-base-control__label__appendix"},"(",(0,t.__)("Optional","kubio"),")"))},m("contact.address"))),(0,c.createElement)(ii,m("contact.socials",Qa))),(0,c.createElement)("div",{className:"kubio-ai-wizard-form-fields"},(0,c.createElement)(Vt.GutentagSelectControl,Yt({label:(0,c.createElement)(Ka,{label:(0,t.__)("Website language","kubio"),field:"language",errors:l}),inlineLabel:!1,options:k,placeholder:(0,t.__)("Select language","kubio"),popoverClassName:"kubio-ai-wizard__select-control-dropdown"},E)),(0,c.createElement)(Vt.GutentagSelectControl,Yt({label:(0,t.__)("Language style","kubio"),inlineLabel:!1,options:w,itemRenderer:e=>(0,c.createElement)("div",{className:"kubio-ai-language-style-select-item"},(0,c.createElement)("span",null,e.label),(0,c.createElement)("span",null,e.description)),popoverClassName:"kubio-ai-wizard__select-control-dropdown"},m("language_style","natural"))),void 0,(0,c.createElement)(ei,{websiteLogo:f})))})),ei=n=>{let{websiteLogo:a}=n;const[i,r]=(0,c.useState)(null),[o,s]=(0,c.useState)(!1),[l,u]=(0,c.useState)(null),d=(0,c.useCallback)((()=>{let t=(0,e.defaultAssetURL)("/logo-fallback.png");return i?t=i.url:a.value&&(t=a.value.url),t}),[i,a.value]),p=(0,c.useCallback)((()=>{let e=(0,t.__)("No file selected","kubio");return i?e=i.url:a.value&&(e=a.value.url),e.split("/").pop()}),[i,a.value]),m=(e,t)=>{null!=m&&m.calledOnce?(r(e[0]),a.onChange({id:e[0].id,url:e[0].url}),t.value="",s(!1)):m.calledOnce=!0};return(0,c.createElement)(Ut.Flex,{className:"kubio-ai-wizard__website-logo",direction:"column",gap:1.5},(0,c.createElement)("span",{className:"components-base-control__label"},(0,t.__)("Website logo","kubio"),(0,c.createElement)("span",{className:"components-base-control__label__appendix"},"(",(0,t.__)("Optional","kubio"),")")),(0,c.createElement)(Ut.Flex,{className:"kubio-ai-wizard__columns-layout",gap:5},(0,c.createElement)(Ut.FlexItem,{className:"kubio-ai-wizard__website-logo__image-wrapper",onClick:e=>{const t=e.target.closest(".kubio-ai-wizard__website-logo").querySelector(".components-form-file-upload button");t&&t.click()}},(0,c.createElement)("img",{src:d(),alt:"logo"})),(0,c.createElement)(Ut.Flex,{direction:"column",justify:"space-between"},(0,c.createElement)("span",null,(0,t.__)("Upload an image file with your company's logo","kubio")),(0,c.createElement)(Ut.Flex,{justify:"flex-start"},(0,c.createElement)(Ut.FormFileUpload,{accept:"image/*",onChange:async e=>{s(!0),await(0,ja.uploadMedia)({allowedTypes:["image"],filesList:e.currentTarget.files,onFileChange:t=>m(t,e.target),onError:e=>{"MIME_TYPE_NOT_SUPPORTED"===e.code?u("Sorry, this file type is not supported."):u("Something went wrong. Please, try again."),u(e.message),s(!1)}})},disabled:o},(0,t.__)("Upload a file","kubio")),o&&(0,c.createElement)(Ut.Spinner,null),!o&&l&&(0,c.createElement)("span",null,l)),(0,c.createElement)(Ut.Flex,{className:"kubio-ai-wizard__website-logo__filename-wrapper",justify:"space-between"},(0,c.createElement)("span",null,p()),(i||a.value)&&(0,c.createElement)(Ut.Icon,{size:17,icon:"no",onClick:()=>{r(null),a.onChange(null)}})))))},ti=s().keyBy(Ja,"name"),ni=e=>ti[e].icon,ai=e=>{let{type:n,url:a,onRemove:i,onChange:r}=e;const o=(0,c.useRef)(),[s,l]=(0,c.useState)(!1),[u,d]=(0,c.useState)(a),p=(0,c.useCallback)(((e,t)=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),r({type:n,url:t||u}),l(!1)}),[u,r,n]),m=(0,c.useMemo)((()=>ti[n].placeholder||(0,t.__)("No URL set","kubio")),[n]);return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{ref:o,className:Wa()("kubio-ai-contact-step__social-icon",{"kubio-ai-contact-step__social-icon--is-selected":s})},(0,c.createElement)(Ut.Icon,{size:22,icon:ni(n),onClick:()=>l(!0)}),(0,c.createElement)(Ut.Icon,{size:12,icon:$t.RoundedDeleteIcon,onClick:()=>i(n)})),s&&(0,c.createElement)(Ut.Popover,{anchor:o.current,onFocusOutside:()=>l(!1),variant:"unstyled",offset:4},(0,c.createElement)("form",{className:"kubio-ai-wizard__edit-social-icon",onSubmit:p},(0,c.createElement)(Ut.Flex,{gap:0},(0,c.createElement)(Ut.FlexBlock,null,(0,c.createElement)(Vt.InputControl,{value:u,onInput:e=>{d(e.target.value)},placeholder:m})),(0,c.createElement)(Ut.FlexItem,{className:"kubio-ai-wizard__edit-social-icon__button-wrapper"},(0,c.createElement)(Ut.Button,{type:"submit"},(0,t.__)("Apply","kubio")))))))},ii=e=>{let{value:n,onChange:a}=e;const i=(0,c.useCallback)((e=>{a([...n,{type:e,url:""}])}),[a,n]),r=(0,c.useCallback)((e=>{a(n.filter((t=>t.type!==e)))}),[a,n]),o=(0,c.useCallback)((e=>{a(n.map((t=>(t.type===e.type&&(t={...t,...e}),t))))}),[a,n]);(0,c.useEffect)((()=>{var e,t,n;const a="kubio-ai-wizard--contact-step";return null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.classList)||void 0===n||n.toggle(a,!0),()=>{var e,t,n;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.classList)||void 0===n||n.toggle(a,!1)}}),[]);const s=(0,c.useMemo)((()=>{const e=n.map((e=>e.type));return Ja.filter((t=>!e.includes(t.name)))}),[n]);return(0,c.createElement)("div",{className:"kubio-ai-wizard__social-media"},(0,c.createElement)(Ut.BaseControl,{id:"social-media-control"},(0,c.createElement)(Ut.BaseControl.VisualLabel,null,(0,t.__)("Social media","kubio"),(0,c.createElement)("span",{className:"components-base-control__label__appendix"},"(",(0,t.__)("Optional","kubio"),")")),(0,c.createElement)("div",{className:Wa()("kubio-ai-contact-step-socials-wrapper")},n.map((e=>{let{type:t,url:n}=e;return(0,c.createElement)(ai,{key:t,type:t,onRemove:r,onChange:o,url:n})})),(0,c.createElement)(Ut.DropdownMenu,{popoverProps:{className:"kubio-ai-wizard__social-media__dropdown",placement:"top",offset:10},label:(0,t.__)("Add social platform","kubio"),icon:Ua,toggleProps:{iconSize:20},controls:s.map((e=>{let{label:t,name:n,icon:a}=e;return{title:t,icon:a,onClick:()=>i(n)}}))}))))};var ri=n(7418),oi=n.n(ri),si=function(){return si=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},si.apply(this,arguments)};const li=function(e){for(var t=e.url,n=e.allowFullScreen,a=e.position,i=e.display,r=e.height,o=e.width,s=e.overflow,l=e.styles,c=e.onLoad,u=e.onMouseOver,d=e.onMouseOut,p=e.scrolling,m=e.id,f=e.frameBorder,g=e.ariaHidden,h=e.sandbox,b=e.allow,y=e.className,v=e.title,k=e.ariaLabel,w=e.ariaLabelledby,_=e.name,x=e.target,E=e.loading,C=e.importance,S=e.referrerpolicy,I=e.allowpaymentrequest,P=e.src,O=oi()({src:P||t,target:x||null,style:{position:a||null,display:i||"block",overflow:s||null},scrolling:p||null,allowpaymentrequest:I||null,importance:C||null,sandbox:h||null,loading:E||null,styles:l||null,name:_||null,className:y||null,referrerpolicy:S||null,title:v||null,allow:b||null,id:m||null,"aria-labelledby":w||null,"aria-hidden":g||null,"aria-label":k||null,width:o||null,height:r||null,onLoad:c||null,onMouseOver:u||null,onMouseOut:d||null}),M=Object.create(null),A=0,T=Object.keys(O);A<T.length;A++){var N=T[A];null!=O[N]&&(M[N]=O[N])}for(var z=0,L=Object.keys(M.style);z<L.length;z++){var j=L[z];null==M.style[j]&&delete M.style[j]}if(n)if("allow"in M){var R=M.allow.replace("fullscreen","");M.allow=("fullscreen "+R.trim()).trim()}else M.allow="fullscreen";return f>=0&&(M.style.hasOwnProperty("border")||(M.style.border=f)),xa().createElement("iframe",si({},M))},ci=(0,t.__)("Kubio AI is ready to generate your website.","kubio"),ui=(0,t.__)("AI features require connecting to a Kubio account","kubio"),di=(0,t.__)("Create a free Kubio account and you will receive 500 free AI credits to generate your homepage.","kubio"),pi=n=>{let{isSetup:a}=n;return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("img",{src:(0,e.staticAssetURL)("ai-assets/final-message.png"),alt:"final-message"}),!a&&(0,c.createElement)("h2",null,(0,t.__)('Awesome! Let\'s hit "Generate"',"kubio")),a&&(0,c.createElement)("h2",null,(0,t.__)('Awesome! Let\'s hit "Save changes"',"kubio")),(0,c.createElement)("p",null,ci))},mi=()=>{const[,n]=h(),{createSuccessNotice:a}=(0,d.useKubioNotices)(),i=(0,o.first)((0,e.getBackendData)("kubioCloudUrl").split("?")).replace(/\/+$/,""),[r,s]=b(),l=(0,c.useRef)(r);return l.current=r,(0,c.useEffect)((()=>{const e=i=>{const{action:r=null,value:o=null,error:c=null}=i.data||{};"ai_subscription_key"===r&&(window.removeEventListener("message",e),c&&S.Log.error("AI Connect Iframe",c),o||S.Log.error("AI Connect Iframe, no value"),(async()=>{await Y({aiKey:o});const{remaining_credits:e=0,per_page_credits:i=30}=await q();s({...l.current,state:"ready",remainingCredits:e,perPageCredits:i}),n(!0),a((0,t.__)("Successfully connected to Kubio AI!","kubio"),{duration:3e3})})())};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[a,n,s]),(0,c.createElement)(Ut.Flex,{align:"center",className:"kubio-ai-connect-row",justify:"space-around",wrap:!0},(0,c.createElement)(Ut.FlexItem,{isBlock:!0,className:"kubio-ai-connect-header"},(0,c.createElement)("h1",{className:"kubio-ai-connect-title"},ui),(0,c.createElement)("p",{className:"kubio-ai-connect-message"},di)),(0,c.createElement)(Ut.FlexItem,{isBlock:!0},(0,c.createElement)("div",{className:"kubio-connect-iframe-container"},(0,c.createElement)(li,{loading:"eager",importance:"high",className:"kubio-connect-iframe",url:`${i}/ui-route/connect-ai?hl=1`,title:"Kubio AI Connect",sandbox:"allow-popups allow-modals allow-same-origin allow-scripts allow-forms allow-popups-to-escape-sandbox"}))))},fi=$a((e=>{let{isSetup:t}=e;const[n]=h();return(0,c.createElement)("div",{className:"kubio-ai-wizard__generate-step kubio-ai-wizard__generate-step--"+(n?"connected":"disconnected")},n&&(0,c.createElement)(pi,{isSetup:t}),!n&&(0,c.createElement)(mi,null))})),gi=[{label:(0,t.__)("General","kubio"),value:"general"},{label:(0,t.__)("About Us","kubio"),value:"about"},{label:(0,t.__)("Services","kubio"),value:"services"},{label:(0,t.__)("Features","kubio"),value:"features"},{label:(0,t.__)("Portfolio","kubio"),value:"portfolio"},{label:(0,t.__)("Team","kubio"),value:"team"},{label:(0,t.__)("Gallery","kubio"),value:"gallery"},{label:(0,t.__)("F.A.Q.","kubio"),value:"faq"},{label:(0,t.__)("Pricing","kubio"),value:"pricing"},{label:(0,t.__)("Contact","kubio"),value:"contact"}],hi=(0,t.__)("It will show the main features of our products, including our plans and user testimonials","kubio"),bi={general:"",about:(0,t.__)("This page should offer detailed information about our organization. Describe company's history, values, and mission and give visitors a clear understanding of our identity.","kubio"),services:(0,t.__)("This page focus is on showcasing our business's offerings. Present details about the specific products, solutions, or expertise our company provides to attract potential clients.","kubio"),portfolio:(0,t.__)("This page should display a showcase of our notable projects and work. Highlight completed assignments, creative ventures, or successful case studies that effectively demonstrate our competence and skills.","kubio"),team:(0,t.__)("A page that introduces visitors to our team members. Spotlight their individual roles, skills, and contributions within the organization to provide insight into our workforce.","kubio"),contact:(0,t.__)("A page that streamlines communication between our business and its audience. Incorporate contact forms, phone numbers, addresses, and social media links to provide visitors with convenient ways to get in touch.","kubio"),features:(0,t.__)("This page is dedicated to showcasing the key features and functionalities of our products or services. Highlight the unique aspects that set our offerings apart and provide value to customers.","kubio"),gallery:(0,t.__)("This page should present a visual gallery that displays images, videos, or multimedia content relevant to our business or organization.","kubio"),faq:(0,t.__)("This page should present comprehensive list of frequently asked questions and their respective answers. Address common queries that visitors might have about our products, services, policies, or any other relevant topics.","kubio"),pricing:(0,t.__)("This page should present clear and detailed pricing information for our products or services.","kubio")},yi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),n||(e=e.toLowerCase(),t=t.toLowerCase()),e===t)return 1;if(e.length<2||t.length<2)return 0;const a=new Map;for(let t=0;t<e.length-1;t++){const n=e.substring(t,t+2),i=a.has(n)?a.get(n)+1:1;a.set(n,i)}let i=0;for(let e=0;e<t.length-1;e++){const n=t.substring(e,e+2),r=a.has(n)?a.get(n):0;r>0&&(a.set(n,r-1),i++)}return 2*i/(e.length+t.length-2)},vi=$a((e=>{var n;let{data:a,rawUpdateData:i,setNextStepIsDisabled:r,errors:s,setErrors:l}=e;const u=(0,c.useCallback)((function(e){return Ra(a,e,i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}),[a,i]),d=u("title",""),p=u("short_desc"),m=(0,c.useRef)(!0),f=(0,o.words)(p.value||"").length,g=(null==a?void 0:a.purpose)||"general",h=(0,c.useRef)();(0,c.useEffect)((()=>{if(h.current===d.value||p.value)return;h.current=d.value;const e=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;const i=[];let r=0;for(let n=0;n<t.length;n++){const a=t[n];let l=0;s=a,o=(o=e).toLowerCase(),s=s.toLowerCase(),l=o&&o.includes(s)?1:yi(e,a),i.push({target:a,rating:l}),l>i[r].rating&&(r=n)}var o,s;const l=i[r];return l.rating>=a?l.target:n}(d.value||"",gi.map((e=>e.value)),g).toLowerCase();i({short_desc:h.current!==d.value||""===p.value?(0,o.get)(bi,e,""):p.value,purpose:e})}),[d.value,g,p.value,i]);const b=(0,c.useCallback)((e=>{i({purpose:e,short_desc:(0,o.get)(bi,e,"")})}),[i]),y=(0,c.useCallback)((e=>{d.onChange(e)}),[d]);return(0,c.useEffect)((()=>{const e={};d.value||m.current||(e.page_title=(0,t.__)("Page title cannot be empty!","kubio")),f>100&&(e.short_desc=(0,t.__)("Page description exceeds 100 words. Please edit & keep it under the limit to proceed.","kubio")),0===f&&(e.short_desc=(0,t.__)("Page description cannot be empty!","kubio")),l(e),r(!!Object.values(e).filter(Boolean).length||""===d.value),m.current&&(m.current=!1)}),[d.value,f,r,l]),(0,c.createElement)("div",{className:"kubio-ai-wizard-form-fields"},(0,c.createElement)(Vt.InputControl,Yt({label:(0,c.createElement)(Ka,{label:(0,t.__)("Page title","kubio"),field:"page_title",errors:s}),className:Wa()((null==s?void 0:s.page_title)&&"has-errors")},d,{onChange:y,autoComplete:"off",role:"presentation"})),(0,c.createElement)(Vt.GutentagSelectControl,{label:(0,t.__)("Page purpose","kubio"),placeholder:(0,t.__)("Select page purpose","kubio"),options:gi,value:g,onChange:b,popoverClassName:"kubio-ai-wizard__select-control-dropdown"}),(0,c.createElement)("div",null,(0,c.createElement)(Vt.TextareaControl,Yt({label:(0,t.__)("Short description of the page","kubio"),className:Wa()("kubio-ai-wizard-page-desc-field",(null==s?void 0:s.short_desc)&&"has-errors"),placeholder:hi,rows:6},p)),(0,c.createElement)("div",{className:"kubio-ai-wizard-textarea-desc-info"},(0,c.createElement)("span",{className:"error-message"},null!==(n=null==s?void 0:s.short_desc)&&void 0!==n?n:""),(0,c.createElement)("span",null,(0,t.__)("Max. 100 words","kubio")))))})),ki=[{label:(0,t.__)("Welcome","kubio"),description:(0,t.__)("Tell us a few things about your new website.","kubio"),name:"welcome",component:n=>{let{onCancel:a}=n;const{nextStep:i}=(0,Vt.useWizard)();return(0,c.createElement)("div",{className:"kubio-ai-welcome-step"},(0,c.createElement)("div",{className:"kubio-ai-welcome-step__content"},(0,c.createElement)("div",{className:"kubio-ai-welcome-step__close-modal"},(0,c.createElement)(Ut.Button,{icon:Kt,onClick:a})),(0,c.createElement)(Ut.Flex,null,(0,c.createElement)(Ut.FlexBlock,{className:"kubio-ai-welcome-step__content-column"},(0,c.createElement)("div",{className:"kubio-ai-welcome-step__content-column__content"},(0,c.createElement)(Ut.Icon,{icon:$t.KubioAI,className:"kubio-ai-logo-colored kubio-ai-logo-animated"}),(0,c.createElement)("h1",null,(0,t.__)("Let's create your home page in just a few easy steps:","kubio")),(0,c.createElement)("ol",null,(0,c.createElement)("li",null,(0,t.__)("Provide a short description of the website","kubio")),(0,c.createElement)("li",null,(0,t.__)("Provide contact and social info (optional)","kubio")),(0,c.createElement)("li",null,(0,t.__)("Generate your homepage","kubio")),(0,c.createElement)("li",null,(0,t.__)("Apply finishing touches","kubio"))),(0,c.createElement)(Ut.Button,{variant:"primary",onClick:i,className:"kubio-ai-button"},(0,t.__)("Let's get started!","kubio")))),(0,c.createElement)(Ut.Flex,{className:"kubio-ai-welcome-step__bg-column"},(0,c.createElement)("img",{alt:"welcome",src:(0,e.staticAssetURL)("ai-assets/welcome.png")})))))},skipNavigation:!0},{label:(0,t.__)("General information","kubio"),description:(0,t.__)("Tell us a few things about your new website.","kubio"),name:"general-info",component:Ha},{label:(0,t.__)("Identity & contact","kubio"),description:(0,t.__)("Provide any contact information related to your business.","kubio"),name:"contact-info",component:Za},{label:(0,t.__)("Page information","kubio"),description:(0,t.__)("Tell us a few things about the page we're about to generate.","kubio"),name:"page-info",component:vi},{label:(0,t.__)("Generate with Kubio AI","kubio"),name:"final-step",description:(0,t.__)("Watch how Kubio AI does all the work for you.","kubio"),component:fi}],wi=n=>{let{onFinish:a,isFrontPage:i=!1,isRegenerate:r=!1,forceGenerateTitle:s=!1,isSetup:l=!1,onCancel:u,checkPageType:d=!0,startWithAIFrontPage:p=!1,isNewPageWizard:m=!1,stepsFilter:f=null,startStep:g=null,modalTitle:b=null,finishLabel:y=null}=n;const[{siteContext:v={},isFrontPage:w,pageContext:_={}},x]=k(),[E]=h(),[C]=(0,c.useState)(E),S=r?w:i,[I,P]=(0,c.useState)(v),[O,M]=(0,c.useState)({purpose:"general",...r?_:{}}),A=(0,c.useCallback)((t=>{M((n=>(0,e.mergeNoArrays)({},n,t)))}),[]),T=(0,c.useCallback)((t=>{P((n=>(0,e.mergeNoArrays)({},n,t)))}),[]),N=(0,c.useCallback)((()=>{const e={siteContext:I,pageContext:O,pageTitle:O.title,isFrontPage:S,isRegenerate:r};x(e),X(I),a(e)}),[I,O,S,r,x,a]),z=(0,c.useMemo)((()=>f?f(ki):ki.map((e=>{const{name:t}=e;switch(t){case"page-info":if(S||l)return null;break;case"final-step":if(C)return null}return e})).filter(Boolean)),[f,S,l,C]),L=(0,c.useCallback)((e=>{const{component:t,name:n}=e;let a=I,i=T;return"page-info"===n&&(a=O,i=A),(0,c.createElement)(t,{key:n,data:a,updateData:i,onFinish:N,onCancel:u,isSetup:l,isRegenerate:r,isFrontPage:S,checkPageType:d,isNewPageWizard:m,startWithAIFrontPage:p})}),[d,S,m,r,l,u,N,O,I,p,A,T]),j=(0,c.useMemo)((()=>{if(g)return g;const e=l||r||m;return(0,o.isEmpty)(I.short_desc)&&S&&!e?"welcome":l||S||(0,o.isEmpty)(I.short_desc)?"general-info":"page-info"}),[S,m,r,l,I.short_desc,g]),R=(0,c.useMemo)((()=>r?(0,t.__)("Close AI wizard 🧙‍♂️","kubio"):(0,t.__)("Skip AI wizard 🧙‍♂️","kubio")),[r]),F=(0,c.useMemo)((()=>{if(b)return b;if(l)return(0,t.__)("Configure Kubio AI","kubio");// translators: %s is the type of page e.g. front page, inner page
let e=(0,t.__)("Generate %s","kubio");const n=S?(0,t.__)("front page","kubio"):(0,t.__)("page","kubio");return r&&!s&&(// translators: %s is the type of page e.g. front page, inner page
e=(0,t.__)("Regenerate %s","kubio")),(0,t.sprintf)(e,n)}),[b,s,S,r,l]);return(0,c.createElement)(Ut.Modal,{className:"kubio-ai-wizard-modal",overlayClassName:"kubio-ai-welcome-step__close-modal",title:(0,c.createElement)(Ut.Flex,null,(0,c.createElement)(Ut.FlexBlock,{className:"kubio-ai-wizard-modal__title"},(0,c.createElement)(Ut.Icon,{icon:$t.KubioAI,className:"kubio-ai-logo-colored kubio-ai-logo-animated"}),F),(0,c.createElement)(Ut.FlexItem,null,(0,c.createElement)(Ut.Button,{onClick:u,icon:Kt,label:(0,t.__)("Close","kubio")}))),isDismissible:!1},(0,c.createElement)(Vt.Wizard,{onFinish:N,startStep:j,showDots:!1,initialBackButton:{label:R,onClick:u},finishLabel:y,steps:z,stepRender:L,Footer:null}))};wi.withStepWrapper=$a})(),(window.kubio=window.kubio||{}).ai=a})();
