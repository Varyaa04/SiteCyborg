(()=>{var e={9590:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function u(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var i,a,l,c;if(Array.isArray(e)){if((i=e.length)!=s.length)return!1;for(a=i;0!=a--;)if(!u(e[a],s[a]))return!1;return!0}if(r&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(c=e.entries();!(a=c.next()).done;)if(!s.has(a.value[0]))return!1;for(c=e.entries();!(a=c.next()).done;)if(!u(a.value[1],s.get(a.value[0])))return!1;return!0}if(n&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(c=e.entries();!(a=c.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((i=e.length)!=s.length)return!1;for(a=i;0!=a--;)if(e[a]!==s[a])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((i=(l=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(s,l[a]))return!1;if(t&&e instanceof Element)return!1;for(a=i;0!=a--;)if(("_owner"!==l[a]&&"__v"!==l[a]&&"__o"!==l[a]||!e.$$typeof)&&!u(e[l[a]],s[l[a]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return u(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},4670:(e,t,r)=>{"use strict";e.exports=r(5607)},9829:(e,t,r)=>{"use strict";var n,o,u,s=r(8946),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function a(){u=!1}function l(e){if(e){if(e!==n){if(e.length!==i.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,a()}}else n!==i&&(n=i,a())}function c(){return u||(u=function(){n||l(i);for(var e,t=n.split(""),r=[],o=s.nextValue();t.length>0;)o=s.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||i},characters:function(e){return l(e),n},seed:function(e){s.seed(e),o!==e&&(a(),o=e)},lookup:function(e){return c()[e]},shuffled:c}},480:(e,t,r)=>{"use strict";var n,o,u=r(8416);r(9829),e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=u(7),t+=u(e),n>0&&(t+=u(n)),t+u(r)}},8416:(e,t,r)=>{"use strict";var n=r(9829),o=r(3766),u=r(296);e.exports=function(e){for(var t,r=0,s="";!t;)s+=u(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return s}},5607:(e,t,r)=>{"use strict";var n=r(9829),o=r(480),u=r(1082),s=r(5636)||0;function i(){return o(s)}e.exports=i,e.exports.generate=i,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return s=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=u},1082:(e,t,r)=>{"use strict";var n=r(9829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},3766:e=>{"use strict";var t,r="object"==typeof window&&(window.crypto||window.msCrypto);t=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},8946:e=>{"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},5636:e=>{"use strict";e.exports=0},296:e=>{e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*r/t.length),u="";;)for(var s=e(o),i=o;i--;)if((u+=t[s[i]&n]||"").length===+r)return u}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n](u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.apply(this,arguments)}r.r(n),r.d(n,{GLOBAL_SESSION_ID:()=>o.GLOBAL_SESSION_ID,SESSION_STORE_KEY:()=>o.SESSION_STORE_KEY,useBlocksOwnerDocument:()=>O,useCurrentPageBodyClasses:()=>m,useCurrentPageTitle:()=>P,useEditorIsLoadedChanged:()=>y,useGetGlobalSessionProp:()=>v,useGlobalSessionProp:()=>w,useOwnerDocumentChanged:()=>E,useSessionProp:()=>h,useSetGlobalSessionProp:()=>S,useSetPageTitle:()=>x,withBlocksOwnerDocument:()=>b,withSessionProps:()=>_});const t=window.wp.element,o=window.kubio.constants,u=window.kubio.coreHooks,s=window.wp.compose,i=window.wp.data,a=window.wp.i18n,l=window.wp.url,c=window.lodash;var f=r(9590),d=r.n(f),p=r(4670);const g={};(0,i.registerStore)(o.SESSION_STORE_KEY,{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,{type:t,clientId:r,prop:n,value:o}=arguments.length>1?arguments[1]:void 0;if("SET_PROP"===t){const t="kubio-dummy-value"+(0,p.generate)(),u=(0,c.get)(e,`${r}.${n}`,t);if(u===t||!d()(u,o)){const t=(0,c.set)(e,`${r}.${n}`,o);return{...(0,c.merge)({},e,t)}}return e}},actions:{setProp:(e,t,r)=>({type:"SET_PROP",clientId:e,prop:t,value:r})},selectors:{getProp:(e,t,r,n)=>t?(0,c.get)(e,`${t}.${r}`,n):n}});const h=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const u=(0,i.useSelect)((t=>t(o.SESSION_STORE_KEY).getProp(e,r,n)),[]),{setProp:s}=(0,i.useDispatch)(o.SESSION_STORE_KEY);return(0,t.useMemo)((()=>[u,t=>{const u=(0,i.select)(o.SESSION_STORE_KEY).getProp(e,r,n);(0,c.isFunction)(t)&&(t=t(u)),d()(u,t)||s(e,r,t)}]),[e,n,r,s,u])},S=e=>{const[,t]=h(o.GLOBAL_SESSION_ID,e);return t},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[r]=h(o.GLOBAL_SESSION_ID,e,t);return r},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return h(o.GLOBAL_SESSION_ID,e,t)},O=()=>v("blocksOwnerDocument",window.document),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.noop;const r=v("ready",!1),[n,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{if(null===n||r!==n)return o(n),e(r)}),[r])},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.noop;const r=O(),n=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(!n.current||!r.isSameNode(n.current))return n.current=r,e(r)}),[r])},_=()=>(0,s.createHigherOrderComponent)((r=>n=>{const{clientId:u}=n,{getProp:s}=(0,i.useSelect)((e=>e(o.SESSION_STORE_KEY)),[u]),{setProp:a}=(0,i.useDispatch)(o.SESSION_STORE_KEY),l={getValue:(e,t)=>s(u,e,t),setValue:(e,t)=>a(u,e,t)};return(0,t.createElement)(r,e({},n,{sessionProps:l}))}),"withSessionProps"),b=()=>(0,s.createHigherOrderComponent)((r=>n=>{const o=O();return(0,t.createElement)(r,e({},n,{ownerDocument:o}))}),"withBlocksOwnerDocument"),m=()=>{const e=(0,i.useSelect)((e=>{var t;return null===(t=e(o.STORE_KEY).getPage())||void 0===t?void 0:t.path}),[]),[r,n]=w("pagesClasses",{}),u=v("ready",!1);return(0,t.useEffect)((()=>{!u||!e||null!=r&&r[e]||(n({...r,[e]:[]}),window.fetch((0,l.addQueryArgs)(e,{"__kubio-body-class":1})).then((e=>e.json())).then((t=>{var o,u;(0,c.isArray)(null==t||null===(o=t.data)||void 0===o?void 0:o.bodyClass)&&n({...r,[e]:null==t||null===(u=t.data)||void 0===u?void 0:u.bodyClass})})))}),[u,e,n,r]),(0,t.useMemo)((()=>(null==r?void 0:r[e])||[]),[r,e])},x=()=>{const[e,t]=w("pagesTitles",{});return(r,n)=>t({...e,[r]:{title:n,isLoading:!1}})},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"placeholder",title:(0,a.__)("Page title placeholder","kubio")};const r=(0,i.useSelect)((e=>{var t,r;return null===(t=e(o.STORE_KEY))||void 0===t||null===(r=t.getPage())||void 0===r?void 0:r.path}),[]),[n,s]=w("pagesTitles",{}),c=v("ready",!1);(0,u.useEffectAsync)((async()=>{var e;!c||!r||null!=n&&n[r]||null!==(e=n[r])&&void 0!==e&&e.isLoading||(s({...n,[r]:{isLoading:!0}}),window.fetch((0,l.addQueryArgs)(r,{"__kubio-page-title":1})).then((e=>e.json())).then((e=>{e.data&&s({...n,[r]:{...e.data,isLoading:!1}})})))}),[c,r,n,s]);const f=(0,t.useMemo)((()=>{const t=null==n?void 0:n[r];return!t||t.isLoading?e:t}),[n,r,e]);return null!=f?f:(0,a.__)("Page","kubio")}})(),(window.kubio=window.kubio||{}).editorData=n})();
