(()=>{"use strict";var e={d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{AdvancedInspectorControls:()=>u,AdvancedStyleBlockInspector:()=>b,BlockInspectorTopControls:()=>h,ContentBlockInspector:()=>B,ContentInspectorControls:()=>S,DataHelperContextFromClientId:()=>E,StyleBlockInspector:()=>x,StyleInspectorControls:()=>F,useCurrentInspectorTab:()=>P});const o=window.kubio.editorData,l=window.wp.element,n=window.wp.i18n,c=window.wp.blocks,r=window.wp.data,s=window.wp.compose,i=window.wp.components,d=window.wp.blockEditor,{Fill:a,Slot:p}=(0,i.createSlotFill)("AdvancedInspectorControls"),k=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:n}=o;return n?(0,l.createElement)(e,t):null}),"ifBlockEditSelectedAdvancedInspectorControls"),u=(0,s.compose)([k])(a);u.Slot=p;const m=(0,s.compose)([(0,r.withSelect)((e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:o,getBlockName:l}=e("core/block-editor"),{getBlockStyles:n}=e("core/blocks"),r=t(),s=r&&l(r),i=r&&(0,c.getBlockType)(s),d=r&&n(s);return{count:o(),hasBlockStyles:d&&d.length>0,selectedBlockName:s,selectedBlockClientId:r,blockType:i}}))])((e=>{let{blockType:t,selectedBlockClientId:o,selectedBlockName:r,showNoBlockSelectedMessage:s=!0}=e;const i=r===(0,c.getUnregisteredTypeHandlerName)();return t&&o&&!i?(0,l.createElement)("div",{className:"block-editor-block-inspector kubio-inspector"},(0,l.createElement)(u.Slot,{bubblesVirtually:!0})):s?(0,l.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,n.__)("No block selected.","kubio")):null})),b=()=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m,null));function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},w.apply(this,arguments)}const S=e=>{const t=(0,d.useBlockEditContext)(),{isSelected:o}=t;return o&&(0,l.createElement)(i.__experimentalStyleProvider,{document},(0,l.createElement)(d.InspectorControls,w({className:"kubio-inspector"},e)))},B=()=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(d.BlockInspector,null)),y=window.kubio.core,E=(0,s.compose)([(0,y.withObserveOtherBlocks)(((e,t)=>{let{clientId:o}=t;return o})),y.withKubioBlockContext])((e=>{let{children:t}=e;return t})),{Fill:C,Slot:g}=(0,i.createSlotFill)("StyleInspectorControlsTop"),I=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:n}=o;return n?(0,l.createElement)(e,t):null}),"ifBlockEditSelectedStyleInspectorControls"),h=(0,s.compose)([I])(C);h.Slot=g;const N=window.kubio.controls,v=window.wp.hooks,O="StyleInspectorControls",{Fill:_,Slot:f}=(0,i.createSlotFill)(O),T=(0,s.createHigherOrderComponent)((e=>t=>{const o=(0,d.useBlockEditContext)(),{isSelected:n}=o;return n?(0,l.createElement)(i.__experimentalStyleProvider,{document},(0,l.createElement)(e,t)):null}),"ifBlockEditSelectedStyleInspectorControls"),F=(0,s.compose)([T])(_);F.Slot=e=>!(0,y.useSlotHasFills)(O)&&window.isKubioBlockEditor?(0,l.createElement)("div",{className:"kubio-editing-header"},(0,l.createElement)(N.ControlNotice,{content:(0,n.__)("Current block does not support styling","kubio")})):(0,l.createElement)(f,e);const x=(0,s.compose)([(0,r.withSelect)((e=>{const{getSelectedBlockClientId:t,getSelectedBlockCount:o,getBlockName:l}=e("core/block-editor"),{getBlockStyles:n}=e("core/blocks"),r=t(),s=r&&l(r),i=r&&(0,c.getBlockType)(s),d=r&&n(s);return{count:o(),hasBlockStyles:d&&d.length>0,selectedBlockName:s,selectedBlockClientId:r,blockType:i}}))])((e=>{let{blockType:t,selectedBlockClientId:o,selectedBlockName:r,showNoBlockSelectedMessage:s=!0}=e;const i=r===(0,c.getUnregisteredTypeHandlerName)();return t&&o&&!i?(0,l.createElement)("div",{className:"block-editor-block-inspector kubio-inspector"},(0,l.createElement)(F.Slot,{bubblesVirtually:!0})):s?(0,l.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,n.__)("No block selected.","kubio")):null})),H=(0,s.createHigherOrderComponent)((e=>t=>(0,l.createElement)(l.Fragment,null,!window.isKubioBlockEditor&&(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(N.LinkedNotice,t)),(0,l.createElement)(e,t),!window.isKubioBlockEditor&&(0,l.createElement)(d.InspectorControls,null,(0,l.createElement)(x,null)))),"withKubioStyleInspectorOutsideKubioEditor");(0,v.addFilter)("editor.BlockEdit","kubio.third-party-controls",H);const P=()=>{const[e,t]=(0,o.useGlobalSessionProp)("displayed-block-panel","content");return[e,t]};(window.kubio=window.kubio||{}).inspectors=t})();
